<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <title>週間計画パターン</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
    
    <link rel="stylesheet" type="text/css" href="/css/theme.css">
    <link rel="stylesheet" href="/css/font.css">

    <script src="/js/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="/js/jquery.autosize.min.js"></script>

    <script>
    window.onunload = function(){};
    history.forward();

	timed=[
		{"time":"04:00"},
		{"time":"04:10"},
		{"time":"04:20"},
		{"time":"04:30"},
		{"time":"04:40"},
		{"time":"04:50"},
		{"time":"05:00"},
		{"time":"05:10"},
		{"time":"05:20"},
		{"time":"05:30"},
		{"time":"05:40"},
		{"time":"05:50"},
		{"time":"06:00"},
		{"time":"06:10"},
		{"time":"06:20"},
		{"time":"06:30"},
		{"time":"06:40"},
		{"time":"06:50"},
		{"time":"07:00"},
		{"time":"07:10"},
		{"time":"07:20"},
		{"time":"07:30"},
		{"time":"07:40"},
		{"time":"07:50"},
		{"time":"08:00"},
		{"time":"08:10"},
		{"time":"08:20"},
		{"time":"08:30"},
		{"time":"08:40"},
		{"time":"08:50"},
		{"time":"09:00"},
		{"time":"09:10"},
		{"time":"09:20"},
		{"time":"09:30"},
		{"time":"09:40"},
		{"time":"09:50"},
		{"time":"10:00"},
		{"time":"10:10"},
		{"time":"10:20"},
		{"time":"10:30"},
		{"time":"10:40"},
		{"time":"10:50"},
		{"time":"11:00"},
		{"time":"11:10"},
		{"time":"11:20"},
		{"time":"11:30"},
		{"time":"11:40"},
		{"time":"11:50"},
		{"time":"12:00"},
		{"time":"12:10"},
		{"time":"12:20"},
		{"time":"12:30"},
		{"time":"12:40"},
		{"time":"12:50"},
		{"time":"13:00"},
		{"time":"13:10"},
		{"time":"13:20"},
		{"time":"13:30"},
		{"time":"13:40"},
		{"time":"13:50"},
		{"time":"14:00"},
		{"time":"14:10"},
		{"time":"14:20"},
		{"time":"14:30"},
		{"time":"14:40"},
		{"time":"14:50"},
		{"time":"15:00"},
		{"time":"15:10"},
		{"time":"15:20"},
		{"time":"15:30"},
		{"time":"15:40"},
		{"time":"15:50"},
		{"time":"16:00"},
		{"time":"16:10"},
		{"time":"16:20"},
		{"time":"16:30"},
		{"time":"16:40"},
		{"time":"16:50"},
		{"time":"17:00"},
		{"time":"17:10"},
		{"time":"17:20"},
		{"time":"17:30"},
		{"time":"17:40"},
		{"time":"17:50"},
		{"time":"18:00"},
		{"time":"18:10"},
		{"time":"18:20"},
		{"time":"18:30"},
		{"time":"18:40"},
		{"time":"18:50"},
		{"time":"19:00"},
		{"time":"19:10"},
		{"time":"19:20"},
		{"time":"19:30"},
		{"time":"19:40"},
		{"time":"19:50"},
		{"time":"20:00"},
		{"time":"20:10"},
		{"time":"20:20"},
		{"time":"20:30"},
		{"time":"20:40"},
		{"time":"20:50"},
		{"time":"21:00"},
		{"time":"21:10"},
		{"time":"21:20"},
		{"time":"21:30"},
		{"time":"21:40"},
		{"time":"21:50"},
		{"time":"22:00"},
		{"time":"22:10"},
		{"time":"22:20"},
		{"time":"22:30"},
		{"time":"22:40"},
		{"time":"22:50"},
		{"time":"23:00"},
		{"time":"23:10"},
		{"time":"23:20"},
		{"time":"23:30"},
		{"time":"23:40"},
		{"time":"23:50"},
		{"time":"00:00"},
		{"time":"00:10"},
		{"time":"00:20"},
		{"time":"00:30"},
		{"time":"00:40"},
		{"time":"00:50"},
		{"time":"01:00"},
		{"time":"01:10"},
		{"time":"01:20"},
		{"time":"01:30"},
		{"time":"01:40"},
		{"time":"01:50"},
		{"time":"02:00"},
		{"time":"02:10"},
		{"time":"02:20"},
		{"time":"02:30"},
		{"time":"02:40"},
		{"time":"02:50"},
		{"time":"03:00"},
		{"time":"03:10"},
		{"time":"03:20"},
		{"time":"03:30"},
		{"time":"03:40"},
		{"time":"03:50"},
		];

	youbid=[
		{"id":"1","youbi":"月","code":"mon"},
		{"id":"2","youbi":"火","code":"tue"},
		{"id":"3","youbi":"水","code":"wed"},
		{"id":"4","youbi":"木","code":"thu"},
		{"id":"5","youbi":"金","code":"fri"},
		{"id":"6","youbi":"土","code":"sat"},
		{"id":"0","youbi":"日","code":"sun"},
		];

	serviced=[
//              ###TENKAIDATA###
   		{ "id":"%1","service":"%2","everyweek":"%3", "youbi":"%4","start":"%5","end":"%6" },
//              ###TENKAIDATA###
		];


        var warekid=[
//              ###GENGOUMASTER###
                        {"id":"%1","value":"%2","year":"%3"},
//              ###GENGOUMASTER###
                ];
        
        var dataArrCSVWeeklyId=new Array();
        var dataArrCSVWeeklyService=new Array();
        var dataArrCSVWeeklyEveryweek=new Array();
        var dataArrCSVWeeklyYoubi=new Array();
        var dataArrCSVWeeklyStart=new Array();
        var dataArrCSVWeeklyEnd=new Array();

        if(serviced.length>0) {
            for(ws in serviced) {
                dataArrCSVWeeklyId.push(serviced[ws].id);
                dataArrCSVWeeklyService.push(serviced[ws].service);
                dataArrCSVWeeklyEveryweek.push(serviced[ws].everyweek);
                dataArrCSVWeeklyYoubi.push(serviced[ws].youbi.replace(/,/g,"/"));
                dataArrCSVWeeklyStart.push(serviced[ws].start);
                dataArrCSVWeeklyEnd.push(serviced[ws].end);
            }
        }

        function registWeeklyPop(id,weekyoubi,starttime,endtime,naiyou) {
            ###RETURNFORM### ###RETURNFALSE###
//            window.open("about:blank",'weeklyservicewindow','width=756, height=300, menubar=no, toolbar=no, scrollbars=no');
            inputKeikakuSakuseiPattern=$('#KeikakuSakuseiPattern').val();
            if(inputKeikakuSakuseiPattern==""){alert("パターン名を入力してください");return false;}
            $('#WEEKLYSERVICE_ID').val(id);
            $('#YOUBI').val(weekyoubi);
            $('#START').val(starttime);
            $('#END').val(endtime);
            $('#NAIYOU').val(naiyou);
            $("#frmWeekly [name=hdKeikakuSakuseiPattern]").val(inputKeikakuSakuseiPattern);
            document.frmWeekly.target="weeklyservicewindow";
            document.frmWeekly.submit();
        }

	jQuery(function(){
		//施設リストプルダウンの「本社」を非表示
		var shisetsuList = $(".shisetsulist a").get();
		var shisetsuListLength = shisetsuList.length;
		for (var i=0; i<shisetsuList.length; i++) {
			var shisetsuListObj = $(shisetsuList).get(i);
			if ($(shisetsuListObj).text() == "本社") {
				$(shisetsuListObj).parent().css("display", "none");
				shisetsuListLength -= 1; 
			}
		}
		//施設リストプルダウンの中身が0個の場合、吹き出しを非表示
		if (shisetsuListLength == 0) {
			$("#shisetsuList_ul").css("display", "none");
		}

		$('input,textarea[readonly]').not($('input[type="button"],input[type="submit"]')).keypress(function (e) {
			if (!e) var e = window.event;
			if (e.keyCode == 13)
				return false;
		});

        // メニュー上のボタン制御
        $("#home").click(function(){
            document.frmBack.submit();
        });

        $("#regist").click(function(){
            $("#frmWhole [name=MODE]").val("regist");
            $('#WeeklyId').val(dataArrCSVWeeklyId);
            $('#WeeklyService').val(dataArrCSVWeeklyService);
            $('#WeeklyEveryweek').val(dataArrCSVWeeklyEveryweek);
            $('#WeeklyYoubi').val(dataArrCSVWeeklyYoubi);
            $('#WeeklyStart').val(dataArrCSVWeeklyStart);
            $('#WeeklyEnd').val(dataArrCSVWeeklyEnd);
            inputKeikakuSakuseiPattern=$('#KeikakuSakuseiPattern').val();
            if(inputKeikakuSakuseiPattern==""){alert("パターン名を入力してください");return false;}
            setKeikakuSakuseiPattern=inputKeikakuSakuseiPattern;            
            $("#frmWhole [name=hdKeikakuSakuseiPattern]").val(setKeikakuSakuseiPattern);
            $("#frmWhole [name=Rireki]").val($('#Rireki').val());
            document.frmWhole.target="_self";
            document.frmWhole.submit();
        });

        $("#delete").click(function(){
            if(!window.confirm("週間計画パターンを削除します。よろしいですか？")) {
                return false;
            }
            $("#frmWhole [name=MODE]").val("delete");
            $('#WeeklyId').val(dataArrCSVWeeklyId);
            $('#WeeklyService').val(dataArrCSVWeeklyService);
            $('#WeeklyEveryweek').val(dataArrCSVWeeklyEveryweek);
            $('#WeeklyYoubi').val(dataArrCSVWeeklyYoubi);
            $('#WeeklyStart').val(dataArrCSVWeeklyStart);
            $('#WeeklyEnd').val(dataArrCSVWeeklyEnd);
            inputKeikakuSakuseiDate=$('#KeikakuSakuseiDate').val();
            if(inputKeikakuSakuseiDate==""){alert("作成年月日を入力してください");return false;}
            if(!$('#riyosha_name').val()){alert("ご利用者を選択してください");return false;}
            setKeikakuSakuseiDate=inputKeikakuSakuseiDate.replace(/-/g,"");            
            $("#frmWhole [name=hdKeikakuSakuseiDate]").val(setKeikakuSakuseiDate);
            $("#frmWhole [name=Rireki]").val($('#Rireki').val());
            document.frmWhole.target="_self";
            document.frmWhole.submit();
        });

        $("#Hyouji").click(function(){
            $("#frmMenuWeekplan [name=MODE]").val("search");
            frmMenuWeekplan.target="_self";
            frmMenuWeekplan.action="CARE_WEEKPLAN_PATTERN.CGI";
            frmMenuWeekplan.method="POST";
            frmMenuWeekplan.submit();            
        });

        $("#clear").click(function(){
            $("#frmMenuWeekplan [name=MODE]").val("to_reset");
            frmMenuWeekplan.target="_self";
            frmMenuWeekplan.action="CARE_WEEKPLAN_PATTERN.CGI";
            frmMenuWeekplan.method="POST";
            frmMenuWeekplan.submit();            
        });

        $("#print").click(function(){
            $("#frmMenuWeekplan [name=MODE]").val("print");
            frmMenuWeekplan.target="printwindow";
            frmMenuWeekplan.action="CARE_WEEKPLAN_PATTERN.CGI";
            frmMenuWeekplan.method="POST";
            frmMenuWeekplan.submit();
        });

        var curdate = new Date();
        var seirekiyear = curdate.getFullYear();
        var nextmonth = curdate.getMonth()+parseInt(1);

		$("#add").click(function(){
    		window.open('pop-route-input.html','routewindow','width=1024,height=300');
		});




    <!-- 表作成-->
		var htmlstr="<tr><th class=\"th-route-header\" style=\"border:1px solid #bbbbbb\"></th>";
		for(var j in youbid){
    		htmlstr=htmlstr+"<th style=\"width:13%\;border:1px solid #bbbbbb\">"+youbid[j].youbi+"</th>";
		}
		htmlstr=htmlstr+"</tr>";
		
		for (var i in timed) {
			var tmptimeminutes=timed[i].time.split(":");
			var timeminutes=parseInt(tmptimeminutes[0]*60)+parseInt(tmptimeminutes[1]);
            if(tmptimeminutes[1]==10||tmptimeminutes[1]==20||tmptimeminutes[1]==30||tmptimeminutes[1]==40) {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-bottom:1px solid #ffffff\;border-top:1px solid #ffffff\"></td>";                 
            } else if(tmptimeminutes[1]==50) {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-top:1px solid #ffffff\"></td>";                
            } else {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-bottom:1px solid #ffffff\">"+timed[i].time+"</td>";
            }
    		for (var j in youbid) {
				htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"border:1px solid #bbbbbb;\" onclick=\"registWeeklyPop('','"+youbid[j].code+"','"+tmptimeminutes[0]+'h'+tmptimeminutes[1]+"','')\">";
				htmlstr=htmlstr+"</td>";
			}

                        htmlstr=htmlstr+"</tr>";

		}

		
		$('#weekplan').children().remove();
		$('#weekplan').append(htmlstr);

        $('.textareaautosize').autosize();

	$("#tenkaijouhou").click(function(){
            $("#frmMenuWeekplan [name=MODE]").val("tenkai");
            frmMenuWeekplan.action="CARE_WEEKPLAN_PATTERN.CGI";
            frmMenuWeekplan.method="POST";
            frmMenuWeekplan.submit();
        });
		    
    <!-- 表作成-->
         if(serviced.length>0) {
		var htmlstr="<tr><th class=\"th-route-header\" style=\"border:1px solid #bbbbbb\"></th>";
		for(var j in youbid){
    		htmlstr=htmlstr+"<th style=\"width:13%;border:1px solid #bbbbbb\">"+youbid[j].youbi+"</th>";
		}
		htmlstr=htmlstr+"</tr>";
		
		for (var i in timed) {
			var tmptimeminutes=timed[i].time.split(":");
			var timeminutes=parseInt(tmptimeminutes[0]*60)+parseInt(tmptimeminutes[1]);
            if(tmptimeminutes[1]==10||tmptimeminutes[1]==20||tmptimeminutes[1]==30||tmptimeminutes[1]==40) {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-bottom:1px solid #ffffff\;border-top:1px solid #ffffff\"></td>";                
            } else if(tmptimeminutes[1]==50) {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-top:1px solid #ffffff\"></td>";                
            } else {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb;border-bottom:1px solid #ffffff\">"+timed[i].time+"</td>";
            }
    		for (var j in youbid) {
                var checkflg="0";
				for (var k in serviced) {
					var tmpstarttimeminutes=serviced[k].start.split(":");
					var starttimeminutes=parseInt(tmpstarttimeminutes[0]*60)+parseInt(tmpstarttimeminutes[1]);
					var tmpendtimeminutes=serviced[k].end.split(":");
					var endtimeminutes=parseInt(tmpendtimeminutes[0]*60)+parseInt(tmpendtimeminutes[1]);
					if(youbid[j].id=="0"&&serviced[k].youbi.match(/0/)&&starttimeminutes<=timeminutes&&timeminutes<endtimeminutes&&serviced[k].everyweek=="1"){
                        htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('"+serviced[k].id+"','"+youbid[j].code+"','"+tmpstarttimeminutes[0]+'h'+tmpstarttimeminutes[1]+"','"+tmpendtimeminutes[0]+'h'+tmpendtimeminutes[1]+"','"+serviced[k].service+"')\">";
						htmlstr=htmlstr+serviced[k].service;
                        checkflg="1";
					}
					if(youbid[j].id=="1"&&serviced[k].youbi.match(/1/)&&starttimeminutes<=timeminutes&&timeminutes<endtimeminutes&&serviced[k].everyweek=="1"){
                        htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('"+serviced[k].id+"','"+youbid[j].code+"','"+tmpstarttimeminutes[0]+'h'+tmpstarttimeminutes[1]+"','"+tmpendtimeminutes[0]+'h'+tmpendtimeminutes[1]+"','"+serviced[k].service+"')\">";
						htmlstr=htmlstr+serviced[k].service;
                        checkflg="1";
					}
					if(youbid[j].id=="2"&&serviced[k].youbi.match(/2/)&&starttimeminutes<=timeminutes&&timeminutes<endtimeminutes&&serviced[k].everyweek=="1"){
                        htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('"+serviced[k].id+"','"+youbid[j].code+"','"+tmpstarttimeminutes[0]+'h'+tmpstarttimeminutes[1]+"','"+tmpendtimeminutes[0]+'h'+tmpendtimeminutes[1]+"','"+serviced[k].service+"')\">";
						htmlstr=htmlstr+serviced[k].service;
                        checkflg="1";
					}
					if(youbid[j].id=="3"&&serviced[k].youbi.match(/3/)&&starttimeminutes<=timeminutes&&timeminutes<endtimeminutes&&serviced[k].everyweek=="1"){
                        htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('"+serviced[k].id+"','"+youbid[j].code+"','"+tmpstarttimeminutes[0]+'h'+tmpstarttimeminutes[1]+"','"+tmpendtimeminutes[0]+'h'+tmpendtimeminutes[1]+"','"+serviced[k].service+"')\">";
						htmlstr=htmlstr+serviced[k].service;
                        checkflg="1";
					}
					if(youbid[j].id=="4"&&serviced[k].youbi.match(/4/)&&starttimeminutes<=timeminutes&&timeminutes<endtimeminutes&&serviced[k].everyweek=="1"){
                        htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('"+serviced[k].id+"','"+youbid[j].code+"','"+tmpstarttimeminutes[0]+'h'+tmpstarttimeminutes[1]+"','"+tmpendtimeminutes[0]+'h'+tmpendtimeminutes[1]+"','"+serviced[k].service+"')\">";
						htmlstr=htmlstr+serviced[k].service;
                        checkflg="1";
					}
					if(youbid[j].id=="5"&&serviced[k].youbi.match(/5/)&&starttimeminutes<=timeminutes&&timeminutes<endtimeminutes&&serviced[k].everyweek=="1"){
                        htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('"+serviced[k].id+"','"+youbid[j].code+"','"+tmpstarttimeminutes[0]+'h'+tmpstarttimeminutes[1]+"','"+tmpendtimeminutes[0]+'h'+tmpendtimeminutes[1]+"','"+serviced[k].service+"')\">";
						htmlstr=htmlstr+serviced[k].service;
                        checkflg="1";
					}
					if(youbid[j].id=="6"&&serviced[k].youbi.match(/6/)&&starttimeminutes<=timeminutes&&timeminutes<endtimeminutes&&serviced[k].everyweek=="1"){
                        htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('"+serviced[k].id+"','"+youbid[j].code+"','"+tmpstarttimeminutes[0]+'h'+tmpstarttimeminutes[1]+"','"+tmpendtimeminutes[0]+'h'+tmpendtimeminutes[1]+"','"+serviced[k].service+"')\">";
						htmlstr=htmlstr+serviced[k].service;
                        checkflg="1";
					}
				}
                if(checkflg=="0"){
                    htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"\" onclick=\"registWeeklyPop('','"+youbid[j].code+"','"+tmptimeminutes[0]+'h'+tmptimeminutes[1]+"','','')\">";
                }
				htmlstr=htmlstr+"</td>";
			}
                        htmlstr=htmlstr+"</tr>";

		}

		var noteveryweekservice="";
		for (var o in serviced) {
			if(serviced[o].everyweek=="0"){
				if(noteveryweekservice!="") {
					noteveryweekservice=noteveryweekservice+","+serviced[o].service;
				} else {
					noteveryweekservice=noteveryweekservice+serviced[o].service;
				}
			}
		}

		
		$('#weekplan').children().remove();
		$('#weekplan').append(htmlstr);

                setFormat();
                $('.textareaautosize').autosize();
        } else if(dailyserviced.length>0) {
                var htmlstr="<tr><th class=\"th-route-header\" style=\"border:1px solid #bbbbbb\"></th>";
                for(var j in youbid){
                htmlstr=htmlstr+"<th style=\"width:13%\;border:1px solid #bbbbbb\">"+youbid[j].youbi+"</th>";
                }
                htmlstr=htmlstr+"</tr>";

                for (var i in timed) {
                        var tmptimeminutes=timed[i].time.split(":");
                        var timeminutes=parseInt(tmptimeminutes[0]*60)+parseInt(tmptimeminutes[1]);
            if(tmptimeminutes[1]==10||tmptimeminutes[1]==20||tmptimeminutes[1]==30||tmptimeminutes[1]==40) {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-bottom:1px solid #ffffff\;border-top:1px solid #ffffff\"></td>";
            } else if(tmptimeminutes[1]==50) {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-top:1px solid #ffffff\"></td>";                
            } else {
                htmlstr=htmlstr+"<tr class=\"tr-route\"><td class=\"td-route-name\" style=\"border:1px solid #bbbbbb\;border-bottom:1px solid #ffffff\">"+timed[i].time+"</td>";
            }
                for (var j in youbid) {
                                htmlstr=htmlstr+"<td class=\"td-route-val\" style=\"border:1px solid #bbbbbb;\" onclick=\"registWeeklyPop('','"+youbid[j].code+"','"+tmptimeminutes[0]+'h'+tmptimeminutes[1]+"','')\">";
                                htmlstr=htmlstr+"</td>";
                        }
                }

                $('#weekplan').children().remove();
                $('#weekplan').append(htmlstr);

                setFormat();
                $('.textareaautosize').autosize();
        }

        function setFormat() {
        <!-- 同じセルの値が続く場合は空白が入り続け、"continuous-nyukyosha"classが設定される -->
            var strtmp= new Array();
            var flgtmp= new Array();

            $('#weekplan tr').each(function(i){
		        var len=$('td',this).length;
			    var thistr;
                for(j=1;j<=len; j++) {
                    if($('td',this).eq(j).text() != "") {
                        $('td',this).eq(j).addClass('continuous-nyukyosha');
                    }

                    if(flgtmp[j] == '0' || flgtmp[j] == null) {
					    thistr=$('#weekplan tr').eq(i-1);
                        strtmp[j]=$('td',thistr).eq(j).text();
                    }

                    if($('td',this).eq(j).text() == strtmp[j] && $('td',this).eq(j).text() != "") {
                        $('td',this).eq(j).text('');
                        $('td',this).eq(j).addClass('continuous-nyukyosha');
                        $('td',this).eq(j).css({'border-top':'solid 1px aqua'});
                        $('td',this).eq(j).css({'border-right':'solid 1px #bbbbbb'});
                        $('td',this).eq(j).css({'border-left':'solid 1px #bbbbbb'});
                        flgtmp[j]='1';
                    } else {
                        $('td',this).eq(j).css({'border-top':'solid 1px #bbbbbb'});
                        $('td',this).eq(j).css({'border-right':'solid 1px #bbbbbb'});
                        $('td',this).eq(j).css({'border-left':'solid 1px #bbbbbb'});
                        flgtmp[j]='0';
                    }
                }
            });
    <!-- 同じセルの値が続く場合は空白が入り続ける -->

        }

        $('.textareaautosize').autosize();


	});


                $('.shisetsulist').live('mouseover',function(){
                   this.style.backgroundColor="lightgrey";
                });
                $('.shisetsulist').live('mouseout',function(){
                   this.style.backgroundColor="white";
                });

    </script>


    <!-- Demo page code -->

    <style type="text/css">
        #line-chart {
            height:300px;
            width:800px;
            margin: 0px auto;
            margin-top: 1em;
        }
        .td-route-name {
            height:14px;
            font-size:12px;
            line-height:0px;
        }
        .td-route-val {
            height:14px;
        }
        .td-nichijo-val {
            height:14px;
        }
        .tr-route {
            height:14px;
        }
    </style>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="lib/html5.js"></script>
    <![endif]-->

  </head>

