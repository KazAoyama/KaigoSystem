<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <title>テナント登録</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
    
    <link rel="stylesheet" type="text/css" href="/css/theme.css">
    <link rel="stylesheet" href="/css/font.css">
    <link rel="stylesheet" href="/css/jquery-ui.css" />
    <script src="/js/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="/js/jquery-ui.js"></script>
	<script src="/js/validateUtils.js"></script>
	<script src="/js/messageMaster.js"></script>
	
	</script>
	<script>

	serviced=[
//      ###SERVICE###
{"id":"%1","floor":"%2","kukaku":"%3","gyoshu":"%4","tenant_mei":"%5","tinryo":"%6","kyoekihi":"%7","kureruhall":"%8"},
//      ###SERVICE###
		];

        var Floor;
	var Kukaku;
	var Gyoshu;
	var TenantMei;
        var Tinryo;
        var Kyoekihi;
        var KureruHall;
        var dataArrID = new Array();
	var dataArrFloor = new Array();
	var dataArrKukaku = new Array();
	var dataArrGyoshu = new Array();
	var dataArrTenantMei = new Array();
	var dataArrTinryo = new Array();
	var dataArrKyoekihi = new Array();
	var dataArrKureruHall = new Array();
	var index;

	jQuery(function(){
        
            if(serviced.length>0) {
                for (var b in serviced) {
                   Floor=serviced[b].floor;
                   Kukaku=serviced[b].kukaku;
                   Gyoshu=serviced[b].gyoshu;
                   TenantMei=serviced[b].tenant_mei;
                   Tinryo=serviced[b].tinryo;
                   Kyoekihi=serviced[b].kyoekihi;
                   KureruHall=serviced[b].kureruhall;
                   $("#ServiceIchiran").append('<tr><td style=" border:#bbbbbb solid 1px; text-align:center;">'+Floor+'</td><td style=" border:#bbbbbb solid 1px; text-align:center;">'+Kukaku+'</td><td style=" border:#bbbbbb solid 1px;">'+Gyoshu+'</td><td style=" border:#bbbbbb solid 1px;">'+TenantMei+'</td><td style=" border:#bbbbbb solid 1px; text-align:right;">'+Tinryo+'</td><td style=" border:#bbbbbb solid 1px; text-align:right;">'+Kyoekihi+'</td><td style=" border:#bbbbbb solid 1px; text-align:right;">'+KureruHall+'</td></tr>');
                   dataArrFloor.push(serviced[b].floor);
                   dataArrKukaku.push(serviced[b].kukaku);
	           dataArrGyoshu.push(serviced[b].gyoshu);
	           dataArrTenantMei.push(serviced[b].tenant_mei);
	           dataArrTinryo.push(serviced[b].tinryo);
	           dataArrKyoekihi.push(serviced[b].kyoekihi);
	           dataArrKureruHall.push(serviced[b].kureruhall);
	           dataArrID.push(serviced[b].id);
               }
            }


	    jQuery('.add').click(function(){
			//バリデーションチェック
			var chkMessage = "";
			chkMessage += validationCheck();
			if (chkMessage != "") {
				alert(chkMessage);
				return false;
			}
		Floor = jQuery('#Floor').val();
                if(Floor==""){
                    Floor="_";
                }
		Kukaku_pr = jQuery('#Kukaku').val();
                Kukaku = Kukaku_pr.replace(',',"・");
                if(Kukaku==""){
                    Kukaku="_";
                }
		Gyoshu = jQuery('#Gyoshu').val();
                if(Gyoshu==""){
                    Gyoshu="_";
                }
		TenantMei = jQuery('#TenantMei').val();
                if(TenantMei==""){
                    TenantMei="_";
                }
		Tinryo = jQuery('#Tinryo').val();
                if(Tinryo==""){
                    Tinryo="_";
                }
		Kyoekihi = jQuery('#Kyoekihi').val();
                if(Kyoekihi==""){
                    Kyoekihi="_";
                }
		KureruHall = jQuery('#KureruHall').val();
                if(KureruHall==""){
                    KureruHall="_";
                }
		data = '<tr><td style=" border:#bbbbbb solid 1px;">'+Floor+'</td><td style=" border:#bbbbbb solid 1px;">'+Kukaku+'</td><td style=" border:#bbbbbb solid 1px;">'+Gyoshu+'</td><td style=" border:#bbbbbb solid 1px;">'+TenantMei+'</td><td style=" border:#bbbbbb solid 1px;">'+Tinryo+'</td><td style=" border:#bbbbbb solid 1px;">'+Kyoekihi+'</td><td style=" border:#bbbbbb solid 1px;">'+KureruHall+'</td></tr>';
	        jQuery('#ServiceIchiran').append(data);
		dataArrFloor.push(Floor);
		dataArrKukaku.push(Kukaku);
                dataArrGyoshu.push(Gyoshu);
		dataArrTenantMei.push(TenantMei);
                dataArrTinryo.push(Tinryo);
	        dataArrKyoekihi.push(Kyoekihi);
	        dataArrKureruHall.push(KureruHall);
                dataArrID.push('_');
	    });

	    jQuery('.mod').live("click", function(){
		if (index>-1) {
			//バリデーションチェック
			var chkMessage = "";
//			chkMessage += validationCheck();
			if (chkMessage != "") {
				alert(chkMessage);
				return false;
			}
			Floor = jQuery('#Floor').val();
			Kukaku_pr = jQuery('#Kukaku').val();
                        Kukaku_pr2 = Kukaku_pr.replace(',',"・");
                        Kukaku = Kukaku_pr2.replace(',',"・");
			Gyoshu = jQuery('#Gyoshu').val();
			TenantMei = jQuery('#TenantMei').val();
			Tinryo = jQuery('#Tinryo').val();
			Kyoekihi = jQuery('#Kyoekihi').val();
			KureruHall = jQuery('#KureruHall').val();
			jQuery('#ServiceIchiran tr').eq(index).children().eq(0).text(Floor);
			jQuery('#ServiceIchiran tr').eq(index).children().eq(1).text(Kukaku);
			jQuery('#ServiceIchiran tr').eq(index).children().eq(2).text(Gyoshu);
			jQuery('#ServiceIchiran tr').eq(index).children().eq(3).text(TenantMei);
			jQuery('#ServiceIchiran tr').eq(index).children().eq(4).text(Tinryo);
			jQuery('#ServiceIchiran tr').eq(index).children().eq(5).text(Kyoekihi);
			jQuery('#ServiceIchiran tr').eq(index).children().eq(6).text(KureruHall);
    			modindex=index-1;
			dataArrFloor.splice(modindex,1,Floor);
			dataArrKukaku.splice(modindex,1,Kukaku);
			dataArrGyoshu.splice(modindex,1,Gyoshu);
			dataArrTenantMei.splice(modindex,1,TenantMei);
			dataArrTinryo.splice(modindex,1,Tinryo);
			dataArrKyoekihi.splice(modindex,1,Kyoekihi);
			dataArrKureruHall.splice(modindex,1,KureruHall);
        } else {
			alert(msgMst.num22);
		}
		
	    });

	    jQuery('.del').live("click", function(){
		if (index>-1) {
	            jQuery('#ServiceIchiran tr').eq(index).remove();
    		    delindex=index-1;
		    dataArrFloor.splice(delindex,1);
		    dataArrKukaku.splice(delindex,1);
		    dataArrGyoshu.splice(delindex,1);
		    dataArrTenantMei.splice(delindex,1);
		    dataArrTinryo.splice(delindex,1);
		    dataArrKyoekihi.splice(delindex,1);
		    dataArrKureruHall.splice(delindex,1);
		    dataArrID.splice(delindex,1);
		    index=-1;
		} else {
			alert(msgMst.num22);
		}
	    });

	    $('#ServiceIchiran tbody tr').live("click", function(){
    		index=jQuery('#ServiceIchiran tr').index(this);
                var va0=jQuery('#ServiceIchiran tr').eq(index).children().eq(0).text();
    		jQuery('#Floor').val(va0);
                var va1=jQuery('#ServiceIchiran tr').eq(index).children().eq(1).text();
    		jQuery('#Kukaku').val(va1);
                var va2=jQuery('#ServiceIchiran tr').eq(index).children().eq(2).text();
    		jQuery('#Gyoshu').val(va2);
                var va3=jQuery('#ServiceIchiran tr').eq(index).children().eq(3).text();
    		jQuery('#TenantMei').val(va3);
                var va4=jQuery('#ServiceIchiran tr').eq(index).children().eq(4).text();
    		jQuery('#Tinryo').val(va4);
                var va5=jQuery('#ServiceIchiran tr').eq(index).children().eq(5).text();
    		jQuery('#Kyoekihi').val(va5);
                var va6=jQuery('#ServiceIchiran tr').eq(index).children().eq(6).text();
    		jQuery('#KureruHall').val(va6);
            });


	    $('#regist').click(function(){
                 jQuery('#MODE').val('regist');
		jQuery('#dataCsvFloor').val(dataArrFloor);
		jQuery('#dataCsvKukaku').val(dataArrKukaku);
		jQuery('#dataCsvGyoshu').val(dataArrGyoshu);
		jQuery('#dataCsvTenantMei').val(dataArrTenantMei);
		jQuery('#dataCsvTinryo').val(dataArrTinryo);
		jQuery('#dataCsvKyoekihi').val(dataArrKyoekihi);
		jQuery('#dataCsvKureruHall').val(dataArrKureruHall);
		jQuery('#dataCsvID').val(dataArrID);
                 document.frmService.method="POST";
                 document.frmService.action="TENANT_TENANT_TOUROKU.CGI";
                 document.frmService.submit();
	    });
	    $('#search').click(function(){
                 jQuery('#MODE').val('search');
                 document.frmService.method="POST";
                 document.frmService.action="TENANT_TENANT_TOUROKU.CGI";
                 document.frmService.submit();
	    });

	});

		function validationCheck() {
			var message = "";
			message += idealValidateCheck($(".well").find("input[type='number'],:text").not("[disabled='disabled']"), true);
			message += requiredCheck();
			return message;
		}
		function requiredCheck(){
			var message = "";
			var requiredItem = [ 
								{"itemName" : SYSTEM_SETTEI_Item.num46, "element" : "Floor"},
								{"itemName" : SYSTEM_SETTEI_Item.num47, "element" : "Kukaku"},
								{"itemName" : SYSTEM_SETTEI_Item.num48, "element" : "Gyoshu"},
								];
			for (var i=0; i<requiredItem.length; i++) {
				message += isRequired(requiredItem[i].itemName, $("#" + requiredItem[i].element));
			}
			return message;
		}

          $(document).ready(function() {
            $("#return").click(function(){
                   $("#MODE").attr({value:"init"});
                   var form = $("#frmService");
                   form.attr({
                      target: "_top",
                      method: "post",
                      action: "/E-LIFE/KEIRI/cgi-bin/TENANT_JYUTAKU_MENU.CGI"
                   });
                   form.submit();
            });
          });

	</script>

    <!-- Demo page code -->

    <style type="text/css">
        #line-chart {
            height:300px;
            width:800px;
            margin: 0px auto;
            margin-top: 1em;
        }
    </style>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="lib/html5.js"></script>
    <![endif]-->

  </head>
