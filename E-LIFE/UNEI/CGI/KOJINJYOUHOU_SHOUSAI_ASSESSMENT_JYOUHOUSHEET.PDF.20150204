#!/bin/bash
#
# KOJINJYOUHOU_SHOUSAI_ASSECEMENT.PDF
# 個人情報詳細　アセスメント　PDF印刷用CGI
#
# Written by E.Okuda　2013/12/11

#--------------------------------------------------------------

# ログ
exec 2> /home/hands/E-LIFE/UNEI/APLOG/LOG.$(basename ${0}).${HOSTNAME}.$(date "+%Y%m%d"); set -xv

source /home/hands/.bashrc &> /dev/null
source /home/hands/E-LIFE/UNEI/CGI/UNEI.INI &> /dev/null
#--------------------------------------------------------------
#--------------------------------------------------------------
# 変数の定義
tmp=/var/tmp/${$}

namedata=$1
checkdata=$2
data=$3
result=$4
today="$(date +%Y%m%d)"

#--------------------------------------------------------------
rm -f $tmp-*
#--------------------------------------------------------------

# ディレクトリ設定
app_dir="${home_dir}/UNEI"
cgi_dir="${app_dir}/CGI"
html_dir="${app_dir}/HTML"
pompa_dir="${app_dir}/POMPA"

# 必要な値の取得
eval $(name-source ${namedata})
#USERNAME=$(awk '$1=="'${USER_ID}'"{print $2}' ${tbl_dir}/JYUGYOIN_NAME)

# 渡ってきたデータを取得
#if [ ${CONTENT_LENGTH:-0} -gt 0 ]; then
#  dd bs=${CONTENT_LENGTH} |
#  cgi-name -d_ -i_
#else
#  :
#fi > $tmp-name

#--------------------------------------------------------------
#--------------------------------------------------------------
# 1:利用者(入居者)ID 2:利用者(入居者)氏名 3:利用者(入居者)氏名カナ 4:性別 5:和暦：元号
# 6:和暦：誕生年     7:和暦：誕生月       8:和暦：誕生日           9:年齢 10:現住所
# 11:携帯電話番号
  awk '$1=="kihon"{print $0}' ${data} |
  delf 1 > $tmp-kihon_data

  awk '$1=="jyouhoudata"{print $0}' ${data} |
  delf 1 |
  sed 's/###KARA###/　/g'> $tmp-jyouhoudata
# 1:移動屋内1:自立                          2:移動屋内2:杖使用                    3:移動屋内3:その他                     4:移動屋内3:その他シルバーカー          5:移動屋内3:その他歩行器
# 6:移動屋内3:その他車椅子                  7:移動屋外1:自立                      8:移動屋外2:杖使用                     9:移動屋外3:その他                      10:移動屋外3:その他シルバーカー
# 11:移動屋外3:その他歩行器                 12:移動屋外3:その他車椅子             13:コミュニケーション視力1:良好        14:コミュニケーション視力2:メガネ       15:コミュニケーション視力2:コンタクト
# 16:コミュニケーション視力2:その他         17:コミュニケーション視力2:備考       18:コミュニケーション聴力1:良好        19:コミュニケーション聴力2:聞こえずらい 20:コミュニケーション聴力2:聞こえずらい右
# 21:コミュニケーション聴力2:聞こえずらい左 22:コミュニケーション聴力3:補聴器使用 23:コミュニケーション聴力3:補聴器右    24:コミュニケーション聴力3:補聴器左     25:コミュニケーション聴力3:補聴器外出時
# 26:コミュニケーション発話障害：なし       27:コミュニケーション発話障害：有り   28:コミュニケーション発話障害：備考    29:食事形態1:普通                       30:食事形態2:主食
# 31:食事形態2:主食1:軟飯                   32:食事形態2:主食2:粥                 33:食事形態3:副食                      34:食事形態3:副食1:一口大               35:食事形態3:副食2:刻み
# 36:禁止食1：なし                          37:禁止食2:あり                       38:禁止食：備考                        39:食事制限1：なし                      40:食事制限2:カロリー
# 41:食事制限2:カロリー備考                 42:食事制限3:塩分                     43:食事制限3:塩分備考                  44:食事準備                             45:食事後片付け
# 46:食事後片付け                           47:洗濯機の使用                       48:洗濯干して取り込む                  49:洗濯備考                             50:掃除機の使用
# 51:整理整頓                               52:掃除備考                           53:ゴミだし                            54:ゴミだし備考                         55:買い物
# 56:買い物備考                             57:通院予約                           58:通院受診                            59:通院備考                             60:通院薬受け取り
# 61:通院備考                               62:金銭管理                           63:郵便管理                            64:管理備考１                           65:電話･来客管理
# 66:戸締り・火の元管理                     67:管理備考２                         68:服薬管理                            69:服薬備考                             70:交通機関の利用
# 71:交通手段備考                           72:自家用車の利用1：なし              73:自家用車の利用1：あり               74:自家用車の利用1：あり自分で運転      75:自家用車の利用1：あり家族が運転
# 76:社会活動老人会1:なし                   77:社会活動老人会2:あり               78:社会活動老人会2:あり回数            79:社会活動老人会備考                   80:社会活動ボランティア1:なし
# 81:社会活動ボランティア2:あり             82:社会活動ボランティア2:あり回数     83:社会活動ボランティア備考            84:社会活動サークル1:なし               85:社会活動サークル1:あり
# 86:社会活動サークル1:あり回数             87:社会活動サークル備考               88:介護保険サービス家事援助1:なし      89:介護保険サービス家事援助2:有り       90:介護保険サービス家事援助月
# 91:介護保険サービス家事援助火曜           92:介護保険サービス家事援助水曜       93:介護保険サービス家事援助木曜        94:介護保険サービス家事援助金曜         95:介護保険サービス家事援助土曜
# 96:介護保険サービス家事援助日曜           97:介護保険サービス家事援助備考       98:介護保険サービス入浴介助1:なし      99:介護保険サービス入浴介助2:あろ       100:介護保険サービス入浴介助月曜
# 101:介護保険サービス入浴介助火曜          102:介護保険サービス入浴介助水曜      103:介護保険サービス入浴介助木曜       104:介護保険サービス入浴介助金曜        105:介護保険サービス入浴介助土曜
# 106:介護保険サービス入浴介助日曜          107:介護保険サービス入浴介助備考      108:介護保険サービス訪問リハ1:なし     109:介護保険サービス訪問リハ2:有り      110:介護保険サービス訪問リハ月曜
# 111:介護保険サービス訪問リハ火曜          112:介護保険サービス訪問リハ水曜      113:介護保険サービス訪問リハ木曜       114:介護保険サービス訪問リハ金曜        115:介護保険サービス訪問リハ土曜
# 116:介護保険サービス訪問リハ日曜          117:介護保険サービス訪問リハ備考      118:介護保険外サービス家事手伝い1:なし 119:介護保険外サービス家事手伝い2:有り  120:介護保険外サービス家事手伝い月曜
# 121:介護保険外サービス家事手伝い火曜      122:介護保険外サービス家事手伝い水曜  123:介護保険外サービス家事手伝い木曜   124:介護保険外サービス家事手伝い金曜    125:介護保険外サービス家事手伝い土曜
# 126:介護保険外サービス家事手伝い日曜      127:介護保険外サービス家事手伝い備考  128:介護保険外サービスその他1:なし     129:介護保険外サービスその他2:あり      130:介護保険外サービスその他月曜
# 131:介護保険外サービスその他火曜          132:介護保険外サービスその他水曜      133:介護保険外サービスその他木曜       134:介護保険外サービスその他金曜        135:介護保険外サービスその他土曜
# 136:介護保険外サービスその他日曜          137:介護保険外サービスその他備考      138:本人の要望                         139:家族の要望                          140:備考
# 141:アレルギー

  awk '$1=="kaigohoken"{print $0}' ${data} |
  delf 1/4  > $tmp-kaigohoken
# 1:訪問介護                  2:訪問介護                  3:訪問介護                  4:訪問介護                  5:訪問介護
# 6:訪問介護                  7:訪問介護                  8:訪問介護                  9:訪問介護                  10:訪問介護
# 11:訪問看護                 12:訪問看護                 13:訪問看護                 14:訪問看護                 15:訪問看護
# 16:訪問看護                 17:訪問看護                 18:訪問看護                 19:訪問看護                 20:訪問看護
# 21:訪問入浴介護             22:訪問入浴介護             23:訪問入浴介護             24:訪問入浴介護             25:訪問入浴介護
# 26:訪問入浴介護             27:訪問入浴介護             28:訪問入浴介護             29:訪問入浴介護             30:訪問入浴介護
# 31:デイサービス(通所介護)   32:デイサービス(通所介護)   33:デイサービス(通所介護)   34:デイサービス(通所介護)   35:デイサービス(通所介護)
# 36:デイサービス(通所介護)   37:デイサービス(通所介護)   38:デイサービス(通所介護)   39:デイサービス(通所介護)   40:デイサービス(通所介護)
# 41:デイケア(通所リハビリ)   42:デイケア(通所リハビリ)   43:デイケア(通所リハビリ)   44:デイケア(通所リハビリ)   45:デイケア(通所リハビリ)
# 46:デイケア(通所リハビリ)   47:デイケア(通所リハビリ)   48:デイケア(通所リハビリ)   49:デイケア(通所リハビリ)   50:デイケア(通所リハビリ)
# 51:在宅患者訪問薬剤管理指導 52:在宅患者訪問薬剤管理指導 53:在宅患者訪問薬剤管理指導 54:在宅患者訪問薬剤管理指導 55:在宅患者訪問薬剤管理指導
# 56:在宅患者訪問薬剤管理指導 57:在宅患者訪問薬剤管理指導 58:在宅患者訪問薬剤管理指導 59:在宅患者訪問薬剤管理指導 60:在宅患者訪問薬剤管理指導
# 61:その他                   62:その他                   63:その他                   64:その他                   65:その他
# 66:その他                   67:その他                   68:その他                   69:その他                   70:その他

  RIYOUSHAID=$(nameread              "RIYOUSHAID"      $namedata)

  USERNAME="$(awk '$1=="'${USERID}'"{print $2}' ${tbl_dir}/JYUUGYOUIN_MASTER/USER_MASTER | head -1)"
  RIYOUSHANAME="$(awk '$1=="'${RIYOUSHAID}'"{print $2}' ${pompa_dir}/RIYOUSHA/RIYOUSHA_MASTER | head -1)"

# ユーザー所属施設名所属部署名)
  SHITSUNAME="$(awk '$1=="'${SHISETSUID}'"{print $2}' ${tbl_dir}/SHISETSU_MASTER/SHISETSU_KIHON | head -1)"

if [ -s $tmp-kihon_data ] ; then
  RIYOUSHANAME="$(awk '{print $2}' $tmp-kihon_data)"
  RIYOUSHNAMEKANA="$(awk '{print $3}' $tmp-kihon_data)"
  RIYOUSHASEIBETSU="$(awk '{if($4=="2"){print "女"}else{print "男"}}' $tmp-kihon_data)"
  RIYOUSHABIRTHGENGOU="$(awk '{print $5}' $tmp-kihon_data | cjoin1 key=1 - ${tbl_dir}/ZEIRITSU_GENGOU_MASTER/GENGOU | self 2)"
# 1:ID 2:元号名 3:西暦年月From 4:西暦年月To
  RIYOUSHABIRTHYEAER="$(awk '{print $6}' $tmp-kihon_data)"
  RIYOUSHABIRTHMONTH="$(awk '{print $7}' $tmp-kihon_data)"
  RIYOUSHABIRTHDAY="$(awk '{print $8}' $tmp-kihon_data)"
  RIYOUSHANENREI="$(awk '{print $9}' $tmp-kihon_data)"
else
  RIYOUSHANAME=""
  RIYOUSHNAMEKANA=""
  RIYOUSHASEIBETSU=""
  RIYOUSHABIRTHGENGOU=""
  RIYOUSHABIRTHYEAER=""
  RIYOUSHABIRTHMONTH=""
  RIYOUSHABIRTHDAY=""
  RIYOUSHANENREI=""
fi


if [ -s $tmp-jyouhoudata ] ; then
  KOUSHINBI="$(awk '{print substr($151,1,4)"/"substr($151,5,2)"/"substr($151,7,2)}' $tmp-jyouhoudata)"
  KOUSHINSHAID="$(awk '{print $NF}' $tmp-jyouhoudata)"
 if [ ! -z "${KOUSHINSHAID}" -a "${KOUSHINSHAID}" != "_" ] ;then
    KOUSHINSHA="$(echo "${KOUSHINSHAID}" | cjoin1 key=1 - ${tbl_dir}/JYUUGYOUIN_MASTER/USER_MASTER | self 2)"
  else
    KOUSHINSHA="_"
  fi
 Seikatsu4="$(awk '{print $4}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu5="$(awk '{print $5}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu6="$(awk '{print $6}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu7="$(awk '{print $7}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu8="$(awk '{print $8}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu9="$(awk '{print $9}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu10="$(awk '{print $10}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu11="$(awk '{print $11}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu12="$(awk '{print $12}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu13="$(awk '{print $13}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu14="$(awk '{print $14}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu15="$(awk '{print $15}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu16="$(awk '{print $16}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu17="$(awk '{print $17}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu18="$(awk '{print $18}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu19="$(awk '{print $19}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu20="$(awk '{print $20}' $tmp-jyouhoudata)"
 Seikatsu21="$(awk '{print $21}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu22="$(awk '{print $22}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu23="$(awk '{print $23}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu24="$(awk '{print $24}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu25="$(awk '{print $25}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu26="$(awk '{print $26}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu27="$(awk '{print $27}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu28="$(awk '{print $28}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu29="$(awk '{print $29}' $tmp-jyouhoudata | awk '{if($1=="29"){print "border:black"}else{print "@"}}')"
 Seikatsu30="$(awk '{print $29}' $tmp-jyouhoudata | awk '{if($1=="30"){print "border:black"}else{print "@"}}')"
 Seikatsu31="$(awk '{print $31}' $tmp-jyouhoudata)"
 Seikatsu32="$(awk '{print $32}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu33="$(awk '{print $33}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu34="$(awk '{print $34}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu35="$(awk '{print $35}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu36="$(awk '{print $36}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu37="$(awk '{print $37}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu38="$(awk '{print $38}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu39="$(awk '{print $39}' $tmp-jyouhoudata | awk '{if($1=="39"){print "border:black"}else{print "@"}}')"
 Seikatsu40="$(awk '{print $39}' $tmp-jyouhoudata | awk '{if($1=="40"){print "border:black"}else{print "@"}}')"
 Seikatsu41="$(awk '{print $41}' $tmp-jyouhoudata)"
 Seikatsu42="$(awk '{print $42}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu43="$(awk '{print $43}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu44="$(awk '{print $44}' $tmp-jyouhoudata)"
 Seikatsu45="$(awk '{print $45}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu46="$(awk '{print $46}' $tmp-jyouhoudata)"
 Genjyou47="$(awk '{print $47}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou48="$(awk '{print $48}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou49="$(awk '{print $49}' $tmp-jyouhoudata)"
 Genjyou50="$(awk '{print $50}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou51="$(awk '{print $51}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou52="$(awk '{print $52}' $tmp-jyouhoudata)"
 Genjyou53="$(awk '{print $53}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou54="$(awk '{print $54}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou55="$(awk '{print $55}' $tmp-jyouhoudata)"
 Genjyou56="$(awk '{print $56}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou57="$(awk '{print $57}' $tmp-jyouhoudata)"
 Genjyou58="$(awk '{print $58}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou59="$(awk '{print $59}' $tmp-jyouhoudata)"
 Genjyou60="$(awk '{print $60}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou61="$(awk '{print $61}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou62="$(awk '{print $62}' $tmp-jyouhoudata)"
 Genjyou63="$(awk '{print $63}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou64="$(awk '{print $64}' $tmp-jyouhoudata)"
 Genjyou65="$(awk '{print $65}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou66="$(awk '{print $66}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou67="$(awk '{print $67}' $tmp-jyouhoudata)"
 Genjyou68="$(awk '{print $68}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou69="$(awk '{print $69}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou70="$(awk '{print $70}' $tmp-jyouhoudata)"
 Genjyou71="$(awk '{print $71}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou72="$(awk '{print $72}' $tmp-jyouhoudata)"
 Genjyou73="$(awk '{print $73}' $tmp-jyouhoudata | awk '{if($1=="1"){print "自分で"}else if($1=="2"){print "一部自分で"}else if($1=="3"){print "自分でしていない"}else{print "@"}}')"
 Genjyou74="$(awk '{print $74}' $tmp-jyouhoudata)"
 Genjyou75="$(awk '{print $75}' $tmp-jyouhoudata | awk '{if($1=="75"){print "border:black"}else{print "@"}}')"
 Genjyou76="$(awk '{print $75}' $tmp-jyouhoudata | awk '{if($1=="76"){print "border:black"}else{print "@"}}')"
 Genjyou77="$(awk '{print $77}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Genjyou78="$(awk '{print $78}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu79="$(awk '{print $79}' $tmp-jyouhoudata | awk '{if($1=="79"){print "border:black"}else{print "@"}}')"
 Seikatsu80="$(awk '{print $79}' $tmp-jyouhoudata | awk '{if($1=="80"){print "border:black"}else{print "@"}}')"
 Seikatsu81="$(awk '{print $81}' $tmp-jyouhoudata)"
 Seikatsu82="$(awk '{print $82}' $tmp-jyouhoudata)"
 Seikatsu83="$(awk '{print $83}' $tmp-jyouhoudata | awk '{if($1=="83"){print "border:black"}else{print "@"}}')"
 Seikatsu84="$(awk '{print $83}' $tmp-jyouhoudata | awk '{if($1=="84"){print "border:black"}else{print "@"}}')"
 Seikatsu85="$(awk '{print $85}' $tmp-jyouhoudata)"
 Seikatsu86="$(awk '{print $86}' $tmp-jyouhoudata)"
 Seikatsu87="$(awk '{print $87}' $tmp-jyouhoudata | awk '{if($1=="87"){print "border:black"}else{print "@"}}')"
 Seikatsu88="$(awk '{print $87}' $tmp-jyouhoudata | awk '{if($1=="88"){print "border:black"}else{print "@"}}')"
 Seikatsu89="$(awk '{print $89}' $tmp-jyouhoudata)"
 Seikatsu90="$(awk '{print $90}' $tmp-jyouhoudata)"
# Seikatsu91="$(awk '{print $91}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu92="$(awk '{print $92}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu93="$(awk '{print $93}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu94="$(awk '{print $94}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu95="$(awk '{print $95}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu96="$(awk '{print $96}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu97="$(awk '{print $97}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu98="$(awk '{print $98}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu99="$(awk '{print $99}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu100="$(awk '{print $100}' $tmp-jyouhoudata)"
# Seikatsu101="$(awk '{print $101}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu102="$(awk '{print $102}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu103="$(awk '{print $103}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu104="$(awk '{print $104}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu105="$(awk '{print $105}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu106="$(awk '{print $106}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu107="$(awk '{print $107}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu108="$(awk '{print $108}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu109="$(awk '{print $109}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu110="$(awk '{print $110}' $tmp-jyouhoudata)"
# Seikatsu111="$(awk '{print $111}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu112="$(awk '{print $112}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu113="$(awk '{print $113}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu114="$(awk '{print $114}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu115="$(awk '{print $115}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu116="$(awk '{print $116}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu117="$(awk '{print $117}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu118="$(awk '{print $118}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu119="$(awk '{print $119}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
# Seikatsu120="$(awk '{print $120}' $tmp-jyouhoudata)"
 Seikatsu121="$(awk '{print $121}' $tmp-jyouhoudata | awk '{if($1=="121"){print "border:black"}else{print "@"}}')"
 Seikatsu122="$(awk '{print $121}' $tmp-jyouhoudata | awk '{if($1=="122"){print "border:black"}else{print "@"}}')"
 Seikatsu123="$(awk '{print $123}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu124="$(awk '{print $124}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu125="$(awk '{print $125}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu126="$(awk '{print $126}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu127="$(awk '{print $127}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu128="$(awk '{print $128}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu129="$(awk '{print $129}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu130="$(awk '{print $130}' $tmp-jyouhoudata)"
 Seikatsu131="$(awk '{print $131}' $tmp-jyouhoudata | awk '{if($1=="131"){print "border:black"}else{print "@"}}')"
 Seikatsu132="$(awk '{print $131}' $tmp-jyouhoudata | awk '{if($1=="132"){print "border:black"}else{print "@"}}')"
 Seikatsu133="$(awk '{print $133}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu134="$(awk '{print $134}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu135="$(awk '{print $135}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu136="$(awk '{print $136}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu137="$(awk '{print $137}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu138="$(awk '{print $138}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu139="$(awk '{print $139}' $tmp-jyouhoudata | awk '{if($1!="_"){print "border:black"}else{print "@"}}')"
 Seikatsu140="$(awk '{print $140}' $tmp-jyouhoudata)"
 Seikatsu141="$(awk '{print $141}' $tmp-jyouhoudata)"
 Seikatsu142="$(awk '{print $142}' $tmp-jyouhoudata)"
 Seikatsu143="$(awk '{print $143}' $tmp-jyouhoudata)"
 Seikatsu144="$(awk '{print $144}' $tmp-jyouhoudata | awk '{if($1=="144"){print "border:black"}else{print "@"}}')"
 Seikatsu145="$(awk '{print $144}' $tmp-jyouhoudata | awk '{if($1=="145"){print "border:black"}else{print "@"}}')"
 Seikatsu146="$(awk '{print $146}' $tmp-jyouhoudata)"
 Seikatsu147="$(awk '{print $147}' $tmp-jyouhoudata | awk '{if($1=="147"){print "border:black"}else{print "@"}}')"
 Seikatsu148="$(awk '{print $147}' $tmp-jyouhoudata | awk '{if($1=="148"){print "border:black"}else{print "@"}}')"
 Seikatsu149="$(awk '{print $149}' $tmp-jyouhoudata)"
# Bikou1="$(awk '{print $144}' $tmp-jyouhoudata)"
# Bikou2="$(awk '{print $145}' $tmp-jyouhoudata)"
# Bikou3="$(awk '{print $146}' $tmp-jyouhoudata)"
else
 Seikatsu4=""
 Seikatsu5=""
 Seikatsu6=""
 Seikatsu7=""
 Seikatsu8=""
 Seikatsu9=""
 Seikatsu10=""
 Seikatsu11=""
 Seikatsu12=""
 Seikatsu13=""
 Seikatsu14=""
 Seikatsu15=""
 Seikatsu16=""
 Seikatsu17=""
 Seikatsu18=""
 Seikatsu19=""
 Seikatsu20=""
 Seikatsu21=""
 Seikatsu22=""
 Seikatsu23=""
 Seikatsu24=""
 Seikatsu25=""
 Seikatsu26=""
 Seikatsu27=""
 Seikatsu28=""
 Seikatsu29=""
 Seikatsu30=""
 Seikatsu31=""
 Seikatsu32=""
 Seikatsu33=""
 Seikatsu34=""
 Seikatsu35=""
 Seikatsu36=""
 Seikatsu37=""
 Seikatsu38=""
 Seikatsu39=""
 Seikatsu40=""
 Seikatsu41=""
 Seikatsu42=""
 Seikatsu43=""
 Seikatsu44=""
 Seikatsu45=""
 Seikatsu46=""
 Genjyou47=""
 Genjyou48=""
 Genjyou49=""
 Genjyou50=""
 Genjyou51=""
 Genjyou52=""
 Genjyou53=""
 Genjyou54=""
 Genjyou55=""
 Genjyou56=""
 Genjyou57=""
 Genjyou58=""
 Genjyou59=""
 Genjyou60=""
 Genjyou61=""
 Genjyou62=""
 Genjyou63=""
 Genjyou64=""
 Genjyou65=""
 Genjyou66=""
 Genjyou67=""
 Genjyou68=""
 Genjyou69=""
 Genjyou70=""
 Genjyou71=""
 Genjyou72=""
 Genjyou73=""
 Genjyou74=""
 Genjyou75=""
 Genjyou76=""
 Genjyou77=""
 Genjyou78=""
 Seikatsu79=""
 Seikatsu80=""
 Seikatsu81="　"
 Seikatsu82=""
 Seikatsu83=""
 Seikatsu84=""
 Seikatsu85="　"
 Seikatsu86=""
 Seikatsu87=""
 Seikatsu88=""
 Seikatsu89="　"
 Seikatsu90=""
# Seikatsu91=""
# Seikatsu92=""
# Seikatsu93=""
# Seikatsu94=""
# Seikatsu95=""
# Seikatsu96=""
# Seikatsu97=""
# Seikatsu98=""
# Seikatsu99=""
# Seikatsu100=""
# Seikatsu101=""
# Seikatsu102=""
# Seikatsu103=""
# Seikatsu104=""
# Seikatsu105=""
# Seikatsu106=""
# Seikatsu107=""
# Seikatsu108=""
# Seikatsu109=""
# Seikatsu110=""
# Seikatsu111=""
# Seikatsu112=""
# Seikatsu113=""
# Seikatsu114=""
# Seikatsu115=""
# Seikatsu116=""
# Seikatsu117=""
# Seikatsu118=""
# Seikatsu119=""
# Seikatsu120=""
 Seikatsu121=""
 Seikatsu122=""
 Seikatsu123=""
 Seikatsu124=""
 Seikatsu125=""
 Seikatsu126=""
 Seikatsu127=""
 Seikatsu128=""
 Seikatsu129=""
 Seikatsu130=""
 Seikatsu131=""
 Seikatsu132=""
 Seikatsu133=""
 Seikatsu134=""
 Seikatsu135=""
 Seikatsu136=""
 Seikatsu137=""
 Seikatsu138=""
 Seikatsu139=""
 Seikatsu140=""
 Seikatsu141=""
 Seikatsu142=""
 Seikatsu143=""
 Seikatsu144=""
 Seikatsu145=""
 Seikatsu146=""
 Seikatsu147=""
 Seikatsu148=""
 Seikatsu149=""
fi

if [ -s $tmp-kaigohoken ] ; then
 Kaigohoken1=$(awk '{print $1}' $tmp-kaigohoken | awk '{if($1=="0"){print "border:black"}else{print "@"}}')
 Kaigohoken2=$(awk '{print $1}' $tmp-kaigohoken | awk '{if($1=="1"){print "border:black"}else{print "@"}}')
 Kaigohoken3=$(awk '{print $2}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken4=$(awk '{print $3}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken5=$(awk '{print $4}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken6=$(awk '{print $5}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken7=$(awk '{print $6}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken8=$(awk '{print $7}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken9=$(awk '{print $8}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken10=$(awk '{print $9}' $tmp-kaigohoken)
 Kaigohoken11=$(awk '{print $11}' $tmp-kaigohoken | awk '{if($1=="10"){print "border:black"}else{print "@"}}')
 Kaigohoken12=$(awk '{print $11}' $tmp-kaigohoken | awk '{if($1=="11"){print "border:black"}else{print "@"}}')
 Kaigohoken13=$(awk '{print $12}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken14=$(awk '{print $13}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken15=$(awk '{print $14}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken16=$(awk '{print $15}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken17=$(awk '{print $16}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken18=$(awk '{print $17}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken19=$(awk '{print $18}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken20=$(awk '{print $19}' $tmp-kaigohoken)
 Kaigohoken21=$(awk '{print $21}' $tmp-kaigohoken | awk '{if($1=="20"){print "border:black"}else{print "@"}}')
 Kaigohoken22=$(awk '{print $21}' $tmp-kaigohoken | awk '{if($1=="21"){print "border:black"}else{print "@"}}')
 Kaigohoken23=$(awk '{print $22}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken24=$(awk '{print $23}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken25=$(awk '{print $24}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken26=$(awk '{print $25}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken27=$(awk '{print $26}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken28=$(awk '{print $27}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken29=$(awk '{print $28}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken30=$(awk '{print $39}' $tmp-kaigohoken)
 Kaigohoken31=$(awk '{print $31}' $tmp-kaigohoken | awk '{if($1=="30"){print "border:black"}else{print "@"}}')
 Kaigohoken32=$(awk '{print $31}' $tmp-kaigohoken | awk '{if($1=="31"){print "border:black"}else{print "@"}}')
 Kaigohoken33=$(awk '{print $32}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken34=$(awk '{print $33}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken35=$(awk '{print $34}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken36=$(awk '{print $35}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken37=$(awk '{print $36}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken38=$(awk '{print $37}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken39=$(awk '{print $38}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken40=$(awk '{print $39}' $tmp-kaigohoken)
 Kaigohoken41=$(awk '{print $41}' $tmp-kaigohoken | awk '{if($1=="40"){print "border:black"}else{print "@"}}')
 Kaigohoken42=$(awk '{print $41}' $tmp-kaigohoken | awk '{if($1=="41"){print "border:black"}else{print "@"}}')
 Kaigohoken43=$(awk '{print $42}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken44=$(awk '{print $43}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken45=$(awk '{print $44}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken46=$(awk '{print $45}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken47=$(awk '{print $46}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken48=$(awk '{print $47}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken49=$(awk '{print $48}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken50=$(awk '{print $59}' $tmp-kaigohoken)
 Kaigohoken51=$(awk '{print $51}' $tmp-kaigohoken | awk '{if($1=="50"){print "border:black"}else{print "@"}}')
 Kaigohoken52=$(awk '{print $51}' $tmp-kaigohoken | awk '{if($1=="51"){print "border:black"}else{print "@"}}')
 Kaigohoken53=$(awk '{print $52}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken54=$(awk '{print $53}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken55=$(awk '{print $54}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken56=$(awk '{print $55}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken57=$(awk '{print $56}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken58=$(awk '{print $57}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken59=$(awk '{print $58}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken60=$(awk '{print $59}' $tmp-kaigohoken)
 Kaigohoken61=$(awk '{print $61}' $tmp-kaigohoken | awk '{if($1=="60"){print "border:black"}else{print "@"}}')
 Kaigohoken62=$(awk '{print $61}' $tmp-kaigohoken | awk '{if($1=="61"){print "border:black"}else{print "@"}}')
 Kaigohoken63=$(awk '{print $62}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken64=$(awk '{print $63}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken65=$(awk '{print $64}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken66=$(awk '{print $65}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken67=$(awk '{print $66}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken68=$(awk '{print $67}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken69=$(awk '{print $68}' $tmp-kaigohoken | awk '{if($1!="_"){print "border:black"}else{print "@"}}')
 Kaigohoken70=$(awk '{print $69}' $tmp-kaigohoken)
else
 Kaigohoken1=""
 Kaigohoken2=""
 Kaigohoken3=""
 Kaigohoken4=""
 Kaigohoken5=""
 Kaigohoken6=""
 Kaigohoken7=""
 Kaigohoken8=""
 Kaigohoken9=""
 Kaigohoken10=""
 Kaigohoken11=""
 Kaigohoken12=""
 Kaigohoken13=""
 Kaigohoken14=""
 Kaigohoken15=""
 Kaigohoken16=""
 Kaigohoken17=""
 Kaigohoken18=""
 Kaigohoken19=""
 Kaigohoken20=""
 Kaigohoken21=""
 Kaigohoken22=""
 Kaigohoken23=""
 Kaigohoken24=""
 Kaigohoken25=""
 Kaigohoken26=""
 Kaigohoken27=""
 Kaigohoken28=""
 Kaigohoken29=""
 Kaigohoken30=""
 Kaigohoken31=""
 Kaigohoken32=""
 Kaigohoken33=""
 Kaigohoken34=""
 Kaigohoken35=""
 Kaigohoken36=""
 Kaigohoken37=""
 Kaigohoken38=""
 Kaigohoken39=""
 Kaigohoken40=""
 Kaigohoken41=""
 Kaigohoken42=""
 Kaigohoken43=""
 Kaigohoken44=""
 Kaigohoken45=""
 Kaigohoken46=""
 Kaigohoken47=""
 Kaigohoken48=""
 Kaigohoken49=""
 Kaigohoken50=""
 Kaigohoken51=""
 Kaigohoken52=""
 Kaigohoken53=""
 Kaigohoken54=""
 Kaigohoken55=""
 Kaigohoken56=""
 Kaigohoken57=""
 Kaigohoken58=""
 Kaigohoken59=""
 Kaigohoken60=""
 Kaigohoken61=""
 Kaigohoken62=""
 Kaigohoken63=""
 Kaigohoken64=""
 Kaigohoken65=""
 Kaigohoken66=""
 Kaigohoken67=""
 Kaigohoken68=""
 Kaigohoken69=""
 Kaigohoken70=""
fi

# calsedファイル
cat << FIN > $tmp-calsed_data
###USERID###       ${USERID}      
###USERNAME###     ${USERNAME}
###SHISETSUID### ${SHISETSUID}
###SHISETSUNAME### ${SHISETSUNAME}
###ERROR_MESSAGE### ${error_message}
###RIYOUSHANAME### ${RIYOUSHANAME}
###RIYOUSHNAMEKANA### ${RIYOUSHNAMEKANA}
###RIYOUSHAID###   ${RIYOUSHAID}
###RIYOUSHASEIBETSU### ${RIYOUSHASEIBETSU}
###TOUROKUDISP### ${TOUROKUDISP}
###PRINTDISP###  ${PRINTDISP}
FIN

# formhame 前の実体参照変換
calsed "&" "&amp;" ${namedata} |
calsed "<" "&lt;"              |
calsed ">" "&gt;"              |
calsed "\"" "&quot;"           > $tmp-namedata

#------------------------------------------------------------------
#-------------------------------------------------------------
# プルダウンの準備


if [ "$MODE" = "touroku" ] ; then

touroku_result="$(cat ${result} | head -1 | self 2)"

 if [ ${touroku_result} = "touroku_ok" ] ; then
    message="登録が完了しました。"
 else
    message=$(awk '$1=="message"{print $2}' ${result})
 fi

fi

#--------------------------------------------------------------
#--------------------------------------------------------------
# メッセージがあればalertで表示させる
if [ ! -z "${message}" ] ; then
	cat <<- FIN > $tmp-html2
	  <script type="text/javascript" language="javascript">
	    alert('${message}');
	  </script>
	FIN
fi

if [ ! -z "${KANRYOU}" ] ; then
	cat <<- FINN > $tmp-html2
          <script type="text/javascript" language="javascript">
           sonota_pop = window.open("","sonota_pop");
           sonota_pop.close();
          </script>
FINN
 fi
#--------------------------------------------------------------
#--------------------------------------------------------------
# calsedデータの追記
cat << FINN > $tmp-calsed_data2
###KOUSHINBI### ${KOUSHINBI}
###KOUSHINSHA### ${KOUSHINSHA}
###RIYOUSHABIRTHGENGOU### ${RIYOUSHABIRTHGENGOU}
###RIYOUSHABIRTHYEAER### ${RIYOUSHABIRTHYEAER}
###RIYOUSHABIRTHMONTH### ${RIYOUSHABIRTHMONTH}
###RIYOUSHABIRTHDAY### ${RIYOUSHABIRTHDAY}
###RIYOUSHANENREI### ${RIYOUSHANENREI}
###Seikatsu1### ${Seikatsu1}
###Seikatsu2### ${Seikatsu2}
###Seikatsu3### ${Seikatsu3}
###Seikatsu4### ${Seikatsu4}
###Seikatsu5### ${Seikatsu5}
###Seikatsu6### ${Seikatsu6}
###Seikatsu7### ${Seikatsu7}
###Seikatsu8### ${Seikatsu8}
###Seikatsu9### ${Seikatsu9}
###Seikatsu10### ${Seikatsu10}
###Seikatsu11### ${Seikatsu11}
###Seikatsu12### ${Seikatsu12}
###Seikatsu13### ${Seikatsu13}
###Seikatsu14### ${Seikatsu14}
###Seikatsu15### ${Seikatsu15}
###Seikatsu16### ${Seikatsu16}
###Seikatsu17### ${Seikatsu17}
###Seikatsu18### ${Seikatsu18}
###Seikatsu19### ${Seikatsu19}
###Seikatsu20### ${Seikatsu20}
###Seikatsu21### ${Seikatsu21}
###Seikatsu22### ${Seikatsu22}
###Seikatsu23### ${Seikatsu23}
###Seikatsu24### ${Seikatsu24}
###Seikatsu25### ${Seikatsu25}
###Seikatsu26### ${Seikatsu26}
###Seikatsu27### ${Seikatsu27}
###Seikatsu28### ${Seikatsu28}
###Seikatsu29### ${Seikatsu29}
###Seikatsu30### ${Seikatsu30}
###Seikatsu31### ${Seikatsu31}
###Seikatsu32### ${Seikatsu32}
###Seikatsu33### ${Seikatsu33}
###Seikatsu34### ${Seikatsu34}
###Seikatsu35### ${Seikatsu35}
###Seikatsu36### ${Seikatsu36}
###Seikatsu37### ${Seikatsu37}
###Seikatsu38### ${Seikatsu38}
###Seikatsu39### ${Seikatsu39}
###Seikatsu40### ${Seikatsu40}
###Seikatsu41### ${Seikatsu41}
###Seikatsu42### ${Seikatsu42}
###Seikatsu43### ${Seikatsu43}
###Seikatsu44### ${Seikatsu44}
###Seikatsu45### ${Seikatsu45}
###Seikatsu46### ${Seikatsu46}
###Genjyou47### ${Genjyou47}
###Genjyou48### ${Genjyou48}
###Genjyou49### ${Genjyou49}
###Genjyou50### ${Genjyou50}
###Genjyou51### ${Genjyou51}
###Genjyou52### ${Genjyou52}
###Genjyou53### ${Genjyou53}
###Genjyou54### ${Genjyou54}
###Genjyou55### ${Genjyou55}
###Genjyou56### ${Genjyou56}
###Genjyou57### ${Genjyou57}
###Genjyou58### ${Genjyou58}
###Genjyou59### ${Genjyou59}
###Genjyou60### ${Genjyou60}
###Genjyou61### ${Genjyou61}
###Genjyou62### ${Genjyou62}
###Genjyou63### ${Genjyou63}
###Genjyou64### ${Genjyou64}
###Genjyou65### ${Genjyou65}
###Genjyou66### ${Genjyou66}
###Genjyou67### ${Genjyou67}
###Genjyou68### ${Genjyou68}
###Genjyou69### ${Genjyou69}
###Genjyou70### ${Genjyou70}
###Genjyou71### ${Genjyou71}
###Genjyou72### ${Genjyou72}
###Genjyou73### ${Genjyou73}
###Genjyou74### ${Genjyou74}
###Genjyou75### ${Genjyou75}
###Genjyou76### ${Genjyou76}
###Genjyou77### ${Genjyou77}
###Genjyou78### ${Genjyou78}
###Seikatsu79### ${Seikatsu79}
###Seikatsu80### ${Seikatsu80}
###Seikatsu81### ${Seikatsu81}
###Seikatsu82### ${Seikatsu82}
###Seikatsu83### ${Seikatsu83}
###Seikatsu84### ${Seikatsu84}
###Seikatsu85### ${Seikatsu85}
###Seikatsu86### ${Seikatsu86}
###Seikatsu87### ${Seikatsu87}
###Seikatsu88### ${Seikatsu88}
###Seikatsu89### ${Seikatsu89}
###Seikatsu90### ${Seikatsu90}
###Seikatsu91### ${Seikatsu91}
###Seikatsu92### ${Seikatsu92}
###Seikatsu93### ${Seikatsu93}
###Seikatsu94### ${Seikatsu94}
###Seikatsu95### ${Seikatsu95}
###Seikatsu96### ${Seikatsu96}
###Seikatsu97### ${Seikatsu97}
###Seikatsu98### ${Seikatsu98}
###Seikatsu99### ${Seikatsu99}
###Seikatsu100### ${Seikatsu100}
###Seikatsu101### ${Seikatsu101}
###Seikatsu102### ${Seikatsu102}
###Seikatsu103### ${Seikatsu103}
###Seikatsu104### ${Seikatsu104}
###Seikatsu105### ${Seikatsu105}
###Seikatsu106### ${Seikatsu106}
###Seikatsu107### ${Seikatsu107}
###Seikatsu108### ${Seikatsu108}
###Seikatsu109### ${Seikatsu109}
###Seikatsu110### ${Seikatsu110}
###Seikatsu111### ${Seikatsu111}
###Seikatsu112### ${Seikatsu112}
###Seikatsu113### ${Seikatsu113}
###Seikatsu114### ${Seikatsu114}
###Seikatsu115### ${Seikatsu115}
###Seikatsu116### ${Seikatsu116}
###Seikatsu117### ${Seikatsu117}
###Seikatsu118### ${Seikatsu118}
###Seikatsu119### ${Seikatsu119}
###Seikatsu120### ${Seikatsu120}
###Seikatsu121### ${Seikatsu121}
###Seikatsu122### ${Seikatsu122}
###Seikatsu123### ${Seikatsu123}
###Seikatsu124### ${Seikatsu124}
###Seikatsu125### ${Seikatsu125}
###Seikatsu126### ${Seikatsu126}
###Seikatsu127### ${Seikatsu127}
###Seikatsu128### ${Seikatsu128}
###Seikatsu129### ${Seikatsu129}
###Seikatsu130### ${Seikatsu130}
###Seikatsu131### ${Seikatsu131}
###Seikatsu132### ${Seikatsu132}
###Seikatsu133### ${Seikatsu133}
###Seikatsu134### ${Seikatsu134}
###Seikatsu135### ${Seikatsu135}
###Seikatsu136### ${Seikatsu136}
###Seikatsu137### ${Seikatsu137}
###Seikatsu138### ${Seikatsu138}
###Seikatsu139### ${Seikatsu139}
###Seikatsu140### ${Seikatsu140}
###Bikou1### ${Seikatsu141}
###Bikou2### ${Seikatsu142}
###Bikou3### ${Seikatsu143}
###Seikatsu144### ${Seikatsu144}
###Seikatsu145### ${Seikatsu145}
###Seikatsu146### ${Seikatsu146}
###Seikatsu147### ${Seikatsu147}
###Seikatsu148### ${Seikatsu148}
###Seikatsu149### ${Seikatsu149}
###Kaigohoken1### ${Kaigohoken1}
###Kaigohoken2### ${Kaigohoken2}
###Kaigohoken3### ${Kaigohoken3}
###Kaigohoken4### ${Kaigohoken4}
###Kaigohoken5### ${Kaigohoken5}
###Kaigohoken6### ${Kaigohoken6}
###Kaigohoken7### ${Kaigohoken7}
###Kaigohoken8### ${Kaigohoken8}
###Kaigohoken9### ${Kaigohoken9}
###Kaigohoken10### ${Kaigohoken10}
###Kaigohoken11### ${Kaigohoken11}
###Kaigohoken12### ${Kaigohoken12}
###Kaigohoken13### ${Kaigohoken13}
###Kaigohoken14### ${Kaigohoken14}
###Kaigohoken15### ${Kaigohoken15}
###Kaigohoken16### ${Kaigohoken16}
###Kaigohoken17### ${Kaigohoken17}
###Kaigohoken18### ${Kaigohoken18}
###Kaigohoken19### ${Kaigohoken19}
###Kaigohoken20### ${Kaigohoken20}
###Kaigohoken21### ${Kaigohoken21}
###Kaigohoken22### ${Kaigohoken22}
###Kaigohoken23### ${Kaigohoken23}
###Kaigohoken24### ${Kaigohoken24}
###Kaigohoken25### ${Kaigohoken25}
###Kaigohoken26### ${Kaigohoken26}
###Kaigohoken27### ${Kaigohoken27}
###Kaigohoken28### ${Kaigohoken28}
###Kaigohoken29### ${Kaigohoken29}
###Kaigohoken30### ${Kaigohoken30}
###Kaigohoken31### ${Kaigohoken31}
###Kaigohoken32### ${Kaigohoken32}
###Kaigohoken33### ${Kaigohoken33}
###Kaigohoken34### ${Kaigohoken34}
###Kaigohoken35### ${Kaigohoken35}
###Kaigohoken36### ${Kaigohoken36}
###Kaigohoken37### ${Kaigohoken37}
###Kaigohoken38### ${Kaigohoken38}
###Kaigohoken39### ${Kaigohoken39}
###Kaigohoken40### ${Kaigohoken40}
###Kaigohoken41### ${Kaigohoken41}
###Kaigohoken42### ${Kaigohoken42}
###Kaigohoken43### ${Kaigohoken43}
###Kaigohoken44### ${Kaigohoken44}
###Kaigohoken45### ${Kaigohoken45}
###Kaigohoken46### ${Kaigohoken46}
###Kaigohoken47### ${Kaigohoken47}
###Kaigohoken48### ${Kaigohoken48}
###Kaigohoken49### ${Kaigohoken49}
###Kaigohoken50### ${Kaigohoken50}
###Kaigohoken51### ${Kaigohoken51}
###Kaigohoken52### ${Kaigohoken52}
###Kaigohoken53### ${Kaigohoken53}
###Kaigohoken54### ${Kaigohoken54}
###Kaigohoken55### ${Kaigohoken55}
###Kaigohoken56### ${Kaigohoken56}
###Kaigohoken57### ${Kaigohoken57}
###Kaigohoken58### ${Kaigohoken58}
###Kaigohoken59### ${Kaigohoken59}
###Kaigohoken60### ${Kaigohoken60}
###Kaigohoken61### ${Kaigohoken61}
###Kaigohoken62### ${Kaigohoken62}
###Kaigohoken63### ${Kaigohoken63}
###Kaigohoken64### ${Kaigohoken64}
###Kaigohoken65### ${Kaigohoken65}
###Kaigohoken66### ${Kaigohoken66}
###Kaigohoken67### ${Kaigohoken67}
###Kaigohoken68### ${Kaigohoken68}
###Kaigohoken69### ${Kaigohoken69}
###Kaigohoken70### ${Kaigohoken70}
FINN
#--------------------------------------------------------------
#--------------------------------------------------------------
cat $tmp-calsed_data2                |
sed 's/_/###SPACE###/g' -            |
cat $tmp-calsed_data - ${checkfile}  > $tmp-calsed_data_result
#--------------------------------------------------------------
# テキスト系は_を空白に直してやる
[ "${SAMPLE_TEXT1}" = "_" ] && SAMPLE_TEXT1=""
sample_area=$(echo "${SAMPLE_AREA}" | sed 's/\\n/###RETURN###/g')

#--------------------------------------------------------------
#--------------------------------------------------------------
# データのはめ込み
cat ${html_dir}/KOJINJYOUHOU_SHOUSAI_ASSESSMENT_JYOUHOUSHEET_PDF.html             |
calsed -f $tmp-calsed_data_result -                              |
mojihame -lkinkyuuji_seibetsu_select - $tmp-seibetsu             |
mojihame -lkinkyuuji_seinegappi_gengou - $tmp-gengou             |
mojihame -lkinkyuuji_allergy_select - $tmp-allergy               |
mojihame -lkinkyuuji_kansenshou_select - $tmp-kansenshou         |
mojihame -lkinkyuuji_shinshou_select - $tmp-shinshou             |
mojihame -lkinkyuuji_ketsueki_rh_select - $tmp-rh                |
mojihame -lkinkyuuji_haien_wakuchin_select - $tmp-wakuchin       |
mojihame -lshozoku_shisetsu - $tmp-shozoku_shisetsu              |
sed 's/###SPACE###/ /g'                                   |
sed 's/\\n/<br>/g'                                        |
sed 's/###KAIGYO###/<br>/g'                                > ${tmp}-tougou_data
#--------------------------------------------------------------
filehame -l"meisai_table_filehame" ${html_dir}/ASSESSEMENT_INSATSU.html ${tmp}-tougou_data  > ${tmp}-html_kansei.html

#過去のPDFは消す
if [ -s ${app_dir}/DOWNLOAD/*.ASSESSEMENT.pdf ] ; then
  rm ${app_dir}/DOWNLOAD/*.ASSESSEMENT.pdf
else 
  :
fi
#PDF作成
${home_dir}/TOOL/wkhtmltopdf-amd64 --margin-bottom 14 --margin-left 5 --margin-right 5 --margin-top 8 ${tmp}-html_kansei.html ${app_dir}/DOWNLOAD/${cur_time}.ASSESSEMENT.pdf

#--------------------------------------------------------------
# 出力
cat << FIN > ${tmp}-html.html
  <html>
    <head>
      <script type="text/javascript" language="Javascript">
        window.open("/E-LIFE/UNEI/DOWNLOAD/${cur_time}.ASSESSEMENT.pdf","pdfprint");
      </script>
    </head>
  </html>
FIN

#cp $tmp-* /home/hands/work/okuda

echo -e "Content-Type: text/html; charset=UTF-8; \n\n" |
cat - ${tmp}-html.html
#if [ -e $tmp-html2 ] ; then
#  cat - $tmp-html2
#else
#  cat -
#fi |
#cat -
#--------------------------------------------------------------
## 終了
rm -f $tmp-*
exit 0
