<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <title>ケア移行アセスメント</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
    
    <link rel="stylesheet" type="text/css" href="/css/theme.css">
    <link rel="stylesheet" href="/css/font.css">
    <link rel="stylesheet" href="/css/jquery-ui.css" />
    <script src="/js/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="/js/jquery-ui.js"></script>
    <script src="/js/jquery.autosize.min.js"></script>
	<script src="/js/validateUtils.js"></script>
	<script src="/js/KAIGOKANGOKIROKUUtils.js"></script>
	<script src="/js/messageMaster.js"></script>
	<script src="/js/jquery.ui.datepicker-ja.js"></script>

    <script>

//    var stream = new EventSource("http://e-life.hands-lab.com/E-LIFE/UNEI/cgi-bin/IKOU_ASSESSMENT_AUTO.CGI");

//    stream.onmessage = function(event) {
//        alert('受け取りました!');
//        streamdata=event.data;
//        if(streamdata.length>0) {
//            for(s=0;s<streamdata.length;s++) {
//               if(streamdata[s].Riyoushaid=="###RIYOUSHAID###") {
//                   if(streamdata[s].USERID!="###USERID###") {
//                       alert(streamdata[s].USERNAME+'によって更新された可能性があります。');
//                   }
//               }
//            }
//        }
//    }

    //  作成年月日
    sakuseidated=[
           ];

    //  記入者
    kinyushad=[
//       ###KINYUSHA###
             {"id":"%1","value":"%2","select":"%3"},
//       ###KINYUSHA###
           ];

    //  フェースシート
    //  家族・支援状況
    //  家族構成一覧
    kazokud=[
              ###KAZOKURECORD###
            ];

     // 緊急連絡先レコード
     renrakud=[
              ###RENRAKURECORD###
            ];

     // サービスレコード
     hokenserviced=[
              ###HOKENSERVICE###
            ];

     // サービスレコード(基本情報
     hokenservicekihond=[
              ###HOKENSERVICEKIHONJOUHOU###
            ];

     // 受診病院レコード
     jushinbyouind=[
              ###BYOUIN###
            ];

     // 傷病レコード
     shoubyoud=[
              ###SHOUBYOU###
            ];

     // 傷病レコード(基本情報)
     shoubyoukihond=[
              ###SHOUBYOUKIHONJOUHOU###
            ];

     // 麻痺レコード
     mahid=[
              ###MAHI###
            ];

     // 入院入所レコード
     nyuind=[
              ###NYUINNYUSHO###
            ];

     // アレルギーレコード
     alergyd=[
              ###ALERGYINFO###
            ];
     // 感染症レコード
     kansenshoud=[
              ###KANSENSHOUINFO###
            ];
     // 感染症レコード(基本情報)
     kansenshoukihond=[
              ###KANSENSHOUKIHONJOUHOUINFO###
            ];

     var warekid=[
//             ###GENGOU_MASTER###
              {"id":"%1","value":"%2","year":"%3"},
//             ###GENGOU_MASTER###
            ];
    //  介護・支援状況
    //  家族の介護の状況・問題点


    //  サービス利用


    //  各マスタデータ
    byoumeid=[
             {"id":"00001","value":"C型肝炎"},
             {"id":"00002","value":"アルツハイマー型認知症"},
             {"id":"00003","value":"気管支炎"},
             {"id":"00004","value":"パーキンソン病"},
             {"id":"00005","value":"胃潰瘍"},
             {"id":"00006","value":"くも膜下出血"},
             {"id":"00007","value":"間接リウマチ"},
             {"id":"00008","value":"圧迫骨折"},
             {"id":"00009","value":"狭心症"},
             {"id":"00010","value":"結核"},
             {"id":"00011","value":"高血圧"},
             {"id":"00012","value":"心不全"},
             {"id":"00013","value":"肺がん"},
             {"id":"00014","value":"白血病"},
             {"id":"00015","value":"眩暈"},
            ];

    toothd=[
             {"id":"1","state":"全部あり"},
             {"id":"2","state":"一部なし"},
             {"id":"3","state":"ほぼなし"},
             {"id":"4","state":"全くなし"},
             {"id":"5","state":"総入れ歯"},
             {"id":"6","state":"局部義歯"},
            ];


    shinryoukad=[
//       ###SHINRYOUKA_MASTER###
             {"id":"%1","value":"%2"},
//       ###SHINRYOUKA_MASTER###
            ];

    //  実施場所
    jisshibashod=[
             {"id":"00001","value":"自宅"},
           ];

    zokugarad=[
//        ###ZOKUGARA_MASTER_LIST###
             {"id":"%1","value":"%2"},
//        ###ZOKUGARA_MASTER_LIST###
            ];


    kaigodod=[
             {"id":"0","value":""},
             {"id":"1","value":"要支援1"},
             {"id":"2","value":"要支援2"},
             {"id":"3","value":"要介護1"},
             {"id":"4","value":"要介護2"},
             {"id":"5","value":"要介護3"},
             {"id":"6","value":"要介護4"},
             {"id":"7","value":"要介護5"},
            ];

    uketsuked=[
              {"id":"001","value":"電話"},
              {"id":"002","value":"来訪"},
            ];

    iraishad=[
              {"id":"001","value":"本人"},
              {"id":"002","value":"家族"},
              {"id":"003","value":"親戚"},
              {"id":"004","value":"その他"},
            ];

    serviceshubetsud=[
//           ###SERVICE_SHUBETSU###
              {"id":"%1","value":"%2"},
//           ###SERVICE_SHUBETSU###
            ];

     nicchuusugoshikatad=[
              {"id":"001","value":"対象に合わせてよく動いている"},
            ];

     gaisyutsuhindod=[
              {"id":"001","value":"毎日"},
              {"id":"002","value":"週１回以上"},
              {"id":"003","value":"２週１回程度"},
              {"id":"004","value":"月１回程度"},
              {"id":"005","value":"ほとんどない"},
            ];

     kaokud=[
              {"id":"001","value":"集合住宅"},
//           ###SHISETSULIST###
              {"id":"%1","value":"%2"},
//           ###SHISETSULIST###
            ];

     kaokuownd=[
              {"id":"001","value":"持家"},
              {"id":"002","value":"借家"},
            ];

     seitond=[
              {"id":"001","value":"整頓"},
              {"id":"002","value":"乱雑"},
            ];

//  
    var curdate = new Date();
    var curyear = curdate.getFullYear();
    var curmonth = curdate.getMonth()+1;
    var curday = curdate.getDate();
    var childWindow;

// 画面更新されていない可能性のためのフラグ
    var hyoujiflg="0";

    function popKihon() {
       var shisetsu_info="###NYUUKYOSHISETSUID###";
       var riyousha_info="###RIYOUSHAID###";
       if(shisetsu_info!=""&&riyousha_info!="") {
          tabKihon.action="/E-LIFE/UNEI/cgi-bin/KOJINJYOUHOU_SHOUSAI_KINKYUU_KOJINDATA.CGI";
          tabKihon.target="_blank";
          tabKihon.methos="POST";
          tabKihon.submit();
       } else {
          alert('ご入居者が選択されていません');
       }
       return false; 
    }
	jQuery(function(){

      // 作成日付
      if(sakuseidated.length>0) {
         for(var sd in sakuseidated) {
             $("#slSakuseiDate").append('<option value="'+sakuseidated[sd].id+'">'+sakuseidated[sd].value+'</option>');
         }
      }

      // 実施場所
      if(jisshibashod.length>0) {
         for(var jb in jisshibashod) {
           $('.slShokaiJissibasho').append('<option value="'+jisshibashod[jb].id+'">'+jisshibashod[jb].value+'</option>');
           $('.slAssessmentJissibasho').append('<option value="'+jisshibashod[jb].id+'">'+jisshibashod[jb].value+'</option>');
         }
      }

      // 記入者
      if(kinyushad.length>0) {
         for(var kn in kinyushad) {
           $('.slShokaiKinyusha').append('<option value="'+kinyushad[kn].id+'" '+kinyushad[kn].select+'>'+kinyushad[kn].value+'</option>');
           $('.slAssessmentKinyusha').append('<option value="'+kinyushad[kn].id+'" '+kinyushad[kn].select+'>'+kinyushad[kn].value+'</option>');
         }
      }

      // アセスメント理由　
//      if(assessmentriyud.length>0) {
//         for(var ar in assessmentriyud) {
//           $('.slAssessmentRiyu').append('<option value="'+assessmentriyud[ar].id+'">'+assessmentriyud[ar].value+'</option>');
//         }
//      }

      // 各マスタ
      if(byoumeid.length>0) {
      for(var b in byoumeid) {
          $('.slByoumei').append('<option value="'+byoumeid[b].id+'">'+byoumeid[b].value+'</option>');
      }
      }

      if(toothd.length>0) {
      for(var t in toothd) {
          $("#KenkouHa").append('<option value="'+toothd[t].id+'">'+toothd[t].state+'</option>');
      }
      }

      if(shinryoukad.length>0) {
      for(var sr in shinryoukad) {
          $("#slShinryouka").append('<option value="'+shinryoukad[sr].id+'">'+shinryoukad[sr].value+'</option>');  
      }
      }

      if(warekid.length>0){
      for(var w in warekid) {
          $("#slNyukyoshaSeinengappiWareki").append('<option value="'+warekid[w].id+'">'+warekid[w].value+'</option>');
      }
      }


      function setZokugaraPulldownKazoku(num) {    
	      if(zokugarad.length>0) {
	         for(var zo in zokugarad) {
//	            $('.NyukyoshaKazokuZokugara').eq(num).append('<option value="'+zokugarad[zo].id+'">'+zokugarad[zo].value+'</option>');
	            $('#dlNyukyoshaKazokuZokugara'+num).append('<option value="'+zokugarad[zo].value+'">');
	         }
	      }
      }

      function setZokugaraPulldownKinkyu(num) {    
	      if(zokugarad.length>0) {
	         for(var zo in zokugarad) {
	            $('.NyukyoshaKinkyuZokugara').eq(num).append('<option value="'+zokugarad[zo].id+'">'+zokugarad[zo].value+'</option>');
	         }
	      }
      }

      function setZokugaraPulldownOmona() {    
	      if(zokugarad.length>0) {
	         for(var zo in zokugarad) {
	            $('#slOmonaKaigoshazokugara').append('<option value="'+zokugarad[zo].id+'">'+zokugarad[zo].value+'</option>');
	         }
	      }
      }

      function setZokugaraPulldownSonota() {    
	      if(zokugarad.length>0) {
	         for(var zo in zokugarad) {
	            $('#slSonotaKaigoshazokugara').append('<option value="'+zokugarad[zo].id+'">'+zokugarad[zo].value+'</option>');
	         }
	      }
      }

      function setZokugaraPulldown(num) {
          setZokugaraPulldownKazoku(num);
          setZokugaraPulldownKinkyu(num);
          setZokugaraPulldownOmona();
          setZokugaraPulldownSonota();
      }
      setZokugaraPulldown(0);

      function setKaigodoPulldown() {
          if(kaigodod.length>0) {
             for(var kd in kaigodod) {
                 $('#slYoukaigodo').append('<option value="'+kaigodod[kd].id+'">'+kaigodod[kd].value+'</option>');
             }
          }
      }
      setKaigodoPulldown();

      function setShinryoukaPulldown(num) {
          if(shinryoukad.length>0) {
             for(var sd in shinryoukad) {
                 $('.slDispJushinShinryouKamoku').eq(num).append('<option value="'+shinryoukad[sd].value+'"></option>');
             }
          }
      }
      setShinryoukaPulldown(0);

      function setUketsukePulldown() {
          if(uketsuked.length>0) {
             for(var ut in uketsuked) {
                 $('#slSoudsanUketsukehouhou').append('<option value="'+uketsuked[ut].id+'">'+uketsuked[ut].value+'</option>');                 
             }
          }
      }
      setUketsukePulldown();

      function setIraishaPulldown() {
          if(iraishad.length>0) {
             for(var ir in iraishad) {
                 $('#slSoudanIraisha').append('<option value="'+iraishad[ir].id+'">'+iraishad[ir].value+'</option>');                 
             }
          }
      }
//      setIraishaPulldown();

      function setServiceShubetsuPulldown(num) {
          var serviceShubetsuHtml='<option value=""></option>';
          if(serviceshubetsud.length>0) {
             for(var ss in serviceshubetsud) {
                 serviceShubetsuHtml=serviceShubetsuHtml+'<option value="'+serviceshubetsud[ss].value+'"></option>';
//                 $('.slGenzaiKaigoServiceShubetsu').eq(num).append('<option value="'+serviceshubetsud[ss].id+'">'+serviceshubetsud[ss].value+'</option>');
             }
             $('.slGenzaiKaigoServiceShubetsu').eq(num).html(serviceShubetsuHtml);
          }
      }
      setServiceShubetsuPulldown(0);

      function setNicchuuSugoshikataPulldown() {
          if(nicchuusugoshikatad.length>0) {
             for(var ns in nicchuusugoshikatad) {
                 $('#slNicchuuSugoshikata').append('<option value="'+nicchuusugoshikatad[ns].id+'">'+nicchuusugoshikatad[ns].value+'</option>');
             }
          }
      }
      setNicchuuSugoshikataPulldown();

      function setGaisyutsuHindoPulldown() {
          if(gaisyutsuhindod.length>0) {
             for(var gh in gaisyutsuhindod) {
                 $('#slGaisyutuHindo').append('<option value="'+gaisyutsuhindod[gh].id+'">'+gaisyutsuhindod[gh].value+'</option>');
             }
          }    
      }
      setGaisyutsuHindoPulldown();

      function setKaokuPulldown() {
          if(kaokud.length>0) {
             for(var ka in kaokud) {
                 $('#slKyojuKeitai').append('<option value="'+kaokud[ka].id+'">'+kaokud[ka].value+'</option>');                 
             }
          }    
      }
      setKaokuPulldown();

      function setSeitonPulldown() {
          if(seitond.length>0) {
             for(var st in seitond) {
                 $('#slKyojuShitsunai').append('<option value="'+seitond[st].id+'">'+seitond[st].value+'</option>');
             }
          }
      }
      setSeitonPulldown();

      function setKaokuOwnPulldown() {
          if(kaokuownd.length>0) {
             for(var ko in kaokuownd) {
                 $('#slKyojuType').append('<option value="'+kaokuownd[ko].id+'">'+kaokuownd[ko].value+'</option>');
             }
          }
      }
      setKaokuOwnPulldown();

      function submitInputValidate() {
          var error="0";

          if($('#USER_ID').val()=="") {
              error="ログインユーザが不明です";
          }
          if($('#Riyoushaid').val()=="") {
              error="ご入居者を選択してください";
          }
          if($('#hdShokaiSakuseidate').val()=="") {
              error="記載日を入力してください";
          }
          if($('#hdNinteiKikanStart').val()!=""&&$('#hdNinteiKikanEnd').val()!=""&&$('#hdNinteiKikanStart').val()>=$('#hdNinteiKikanEnd').val()) {
              error="認定期間が正しくありません";
          }

          return error
      }

      $('.txtareaautoresize').autosize();

      //  span入力セット
      $('#slShokaiJissibasho').val('###SLSHOKAIJISSIBASHO###');
      var dispShokaiKinyusha="###SLSHOKAIKINYUSHA###";
      if(dispShokaiKinyusha!="") {
         $('#slShokaiKinyusha').val('###SLSHOKAIKINYUSHA###');
         $('#slAssessmentKinyusha0').val('###SLSHOKAIKINYUSHA###');
      }
      $('#slAssessmentRiyu').val('###SLASSESSMENTRIYU###');
      $('#slNyukyoshaSeibetsu').val('###SLNYUKYOSHASEIBETSU###');
      $('#slNyukyoshaSeinengappiWareki').val('###SLNYUKYOSHASEINENGAPPIWAREKI###');
      $('#slNyukyoshaSeinengappiMonth').val('###SLNYUKYOSHASEINENGAPPIMONTH###');
      $('#slNyukyoshaSeinengappiDay').val('###SLNYUKYOSHASEINENGAPPIDAY###');
      $('#slNyukyoshaSetaikubun').val('###SLNYUKYOSHASETAIKUBUN###');
      $('#slSoudsanUketsukehouhou').val('###SLSOUDSANUKETSUKEHOUHOU###');
      $('#slSoudanIraisha').val('###SLSOUDANIRAISHA###');
      $('#slYoukaigodo').val('###SLYOUKAIGODO###');
      $("input[name=slShintaiShougaishaTechou]").val(['###SLSHINTAISHOUGAISHATECHOU###']);
      $('#slSeikatsuhogo').val('###SLSEIKATSUHOGO###');
      $('#slAssessmentJissibasho0').val('###SLASSESSMENTJISSIBASHO0###');
      $('#slAssessmentRiyu0').val('###SLASSESSMENTRIYU0###');
      var dispAssessmentKinyusha0="###SLASSESSMENTKINYUSHA0###";
      if(dispAssessmentKinyusha0!=""){
         $('#slAssessmentKinyusha0').val('###SLASSESSMENTKINYUSHA0###');
      }
      $('#slOmonaKaigoshazokugara').val('###SLOMONAKAIGOSHAZOKUGARA###');
      $('#slOmonaKaigoshaDoukyo').val('###SLOMONAKAIGOSHADOUKYO###');
      $('#slSonotaKaigoshazokugara').val('###SLSONOTAKAIGOSHAZOKUGARA###');
      $('#slSonotaKaigoshaDoukyo').val('###SLSONOTAKAIGOSHADOUKYO###');
      $('#slNicchuuSugoshikata').val('###SLNICCHUUSUGOSHIKATA###');
      $('#slGaisyutuHindo').val('###SLGAISYUTUHINDO###');
      $('#slADLNegaeriNedoko1').val('###SLADLNEGAERINEDOKO1###');
      $('#slADLOkunaiHokou1').val('###SLADLOKUNAIHOKOU1###');
      $("input[name='slADLOkunaiTentouRisk1']").val(['###SLADLOKUNAITENTOURISK1###']);
      $('#slADLOkugaiHokou1').val('###SLADLOKUGAIHOKOU1###');
      $("input[name='slADLOkugaiTentouRisk1']").val(['###SLADLOKUGAITENTOURISK1###']);
      $('#slADLNyuyokuHindo1').val('###SLADLNYUYOKUHINDO1###');
      $('#slADLNyuyokuHouhou1').val('###SLADLNYUYOKUHOUHOU1###');
      $('#slADLNyuyokuBasho1').val('###SLADLNYUYOKUBASHO1###');
      $('#slADLSenpatsuHindo1').val('###SLADLSENPATSUHINDO1###');
      $('#slADLSenpatsuHouhou1').val('###SLADLSENPATSUHOUHOU1###');
      $('#slADLSenpatsuBasho1').val('###SLADLSENPATSUBASHO1###');
      $('#slShokujiJoukyouBasho1').val('###SLSHOKUJIJOUKYOUBASHO1###');
      $('#slShokujiJoukyouWay1').val('###SLSHOKUJIJOUKYOUWAY1###');
      $('#slShokujiKeitaiNaiyou1').val('###SLSHOKUJIKEITAINAIYOU1###');
      $('#slShokujiShushokuKeitaiNaiyou1').val('###SLSHOKUJISHUSHOKUKEITAINAIYOU1###');
      $('#slShokujiFukushokuKeitaiNaiyou1').val('###SLSHOKUJIFUKUSHOKUKEITAINAIYOU1###');
      $("input[name='slSuibunSessyuSeigen1']").val(['###SLSUIBUNSESSYUSEIGEN1###']);
      $('#slSuibunSessyuTekisetsu1').val('###SLSUIBUNSESSYUTEKISETSU1###');
      $("input[name='slSuibunSessyuToromi1']").val(['###SLSUIBUNSESSYUTOROMI1###']);
      $('#slKoukuJoutaiGishi1').val('###SLKOUKUJOUTAIGISHI1###');
      $('#slKoukuJoutaiNaiyou1').val('###SLKOUKUJOUTAINAIYOU1###');
      $('#slHaisetsuKouiWay1').val('###SLHAISETSUKOUIWAY1###');
      $('#slHaisetsuKouiWay2').val('###SLHAISETSUKOUIWAY2###');
      $("input[name='slBeniBentsuTaisaku1']").val(['###SLBENIBENTSUTAISAKU1###']);
      $('#slYouguType1').val('###SLYOUGUTYPE1###');
      $("input[name='slMegane1']").val(['###SLMEGANE1###']);
      $("input[name='slHochouki1']").val(['###SLHOCHOUKI1###']);
      $("input[name='slKotobaShougai1']").val(['###SLKOTOBASHOUGAI1###']);
      $('#slKyojuKeitai').val('###SLKYOJUKEITAI###');
      $('#slKyojuFloor').val('###SLKYOJUFLOOR###');
      $('#slKyojuType').val('###SLKYOJUTYPE###');
      $('#slKyojuELV').val('###SLKYOJUELV###');
      $('#slKyojuYokushitsu').val('###SLKYOJUYOKUSHITSU###');
      $('#slKyojuYokusou').val('###SLKYOJUYOKUSOU###');
      $('#slKyojuShower').val('###SLKYOJUSHOWER###');
      $('#slKyojuTesuri').val('###SLKYOJUTESURI###');
      $('#slKyojuDansa').val('###SLKYOJUDANSA###');
      $('#slKyojuShitsunai').val('###SLKYOJUSHITSUNAI###');
      $('#slKyojuEisei').val('###SLKYOJUEISEI###');
      $('#slKyojuReidanbouUmu').val('###SLKYOJUREIDANBOUUMU###');
      $('#slKyojuReidanbouShitsuon').val('###SLKYOJUREIDANBOUSHITSUON###');
      $('#slKyojuPet').val('###SLKYOJUPET###');
      $('#tab4Netakiri').val('###TAB4NETAKIRI###');
      $('#tab4Ninchishou').val('###TAB4NINCHISHOU###');
      $("input[name='slShintaiMahiItami']").val(['###SLSHINTAIMAHIITAMI###']);
      $("input[name='slShintaiKoushukuItami']").val(['###SLSHINTAIKOUSHUKUITAMI###']);
      $("input[name='slShintaiHifuItami']").val(['###SLSHINTAIHIFUITAMI###']);
      $("input[name='slShintaiJokusouItami']").val(['###SLSHINTAIJOKUSOUITAMI###']);
      $("input[name='slShintaiMahi']").val(['###SLSHINTAIMAHI###']);
      $("input[name='slShintaiKoushuku']").val(['###SLSHINTAIKOUSHUKU###']);
      $("input[name='slShintaiHifu']").val(['###SLSHINTAIHIFU###']);
      $("input[name='slShintaiJokusou']").val(['###SLSHINTAIJOKUSOU###']);
      $("input[name='slInshuUmu']").val(['###SLINSHUUMU###']);
      $("input[name='slKitsuenUmu']").val(['###SLKITSUENUMU###']);

      //  ラジオボタン入力セット
      $("input[name='rdKaigoryoku']").val(['###RDKAIGORYOKU###']);
      $("input[name='rdADLNegaeri1']").val(['###RDADLNEGAERI1###']);
      $("input[name='rdADLOkiagari1']").val(['###RDADLOKIAGARI1###']);
      $("input[name='rdADLTachiagari1']").val(['###RDADLTACHIAGARI1###']);
      $("input[name='rdADLIjou1']").val(['###RDADLIJOU1###']);
      $("input[name='rdADLOkunaiHokou1']").val(['###RDADLOKUNAIHOKOU1###']);
      $("input[name='rdADLOkugaiHokou1']").val(['###RDADLOKUGAIHOKOU1###']);
      $("input[name='rdADLZaiHoji1']").val(['###RDADLZAIHOJI1###']);
      $("input[name='rdADLRitsuiHoji1']").val(['###RDADLRITSUIHOJI1###']);
      $("input[name='rdADLChakui1']").val(['###RDADLCHAKUI1###']);
      $("input[name='rdADLButton1']").val(['###RDADLBUTTON1###']);
      $("input[name='rdADLUwagi1']").val(['###RDADLUWAGI1###']);
      $("input[name='rdADLZubon1']").val(['###RDADLZUBON1###']);
      $("input[name='rdADLKutsushita1']").val(['###RDADLKUTSUSHITA1###']);
      $("input[name='rdADLMidashinami1']").val(['###RDADLMIDASHINAMI1###']);
      $("input[name='rdADLSengan1']").val(['###RDADLSENGAN1###']);
      $("input[name='rdADLSeihatsu1']").val(['###RDADLSEIHATSU1###']);
      $("input[name='rdADLTsumekiri1']").val(['###RDADLTSUMEKIRI1###']);
      $("input[name='rdADLHigesori1']").val(['###RDADLHIGESORI1###']);
      $("input[name='rdADLHamigaki1']").val(['###RDADLHAMIGAKI1###']);
      $("input[name='rdADLGishi1']").val(['###RDADLGISHI1###']);
      $("input[name='rdADLGishiKanri1']").val(['###RDADLGISHIKANRI1###']);
      $("input[name='rdADLGishiSenjou1']").val(['###RDADLGISHISENJOU1###']);
      $("input[name='rdADLNyuyoku1']").val(['###RDADLNYUYOKU1###']);
      $("input[name='rdADLSenshin1']").val(['###RDADLSENSHIN1###']);
      $("input[name='rdADLSenpatsu1']").val(['###RDADLSENPATSU1###']);
      $("input[name='rdADLYokusouDeiri1']").val(['###RDADLYOKUSOUDEIRI1###']);
      $("input[name='rdShokujiJoukyou1']").val(['###RDSHOKUJIJOUKYOU1###']);
      $("input[name='rdShokujiEnka1']").val(['###RDSHOKUJIENKA1###']);
      $("input[name='rdShokujiKeitai1']").val(['###RDSHOKUJIKEITAI1###']);
      $("input[name='rdShokujiShushokuKeitai1']").val(['###RDSHOKUJISHUSHOKUKEITAI1###']);
      $("input[name='rdShokujiFukushokuKeitai1']").val(['###RDSHOKUJIFUKUSHOKUKEITAI1###']);
      $("input[name='rdEiyouJoutai1']").val(['###RDEIJOUJOUTAI1###']);
      $("input[name='rdSuibunSessyu1']").val(['###RDSUIBUNSESSYU1###']);
      $("input[name='rdShokujiMusekomi1']").val(['###RDSHOKUJIMUSEKOMI1###']);
      $("input[name='rdShokumotsuAlergy1']").val(['###RDSHOKUMOTSUALERGY1###']);
      $("input[name='rdKinshiShoku1']").val(['###RDKINSHISHOKU1###']);
      $("input[name='rdShokujiShikou1']").val(['###RDSHOKUJISHIKOU1###']);
      $("input[name='rdEiyouJoutai1']").val(['###RDEIYOUJOUTAI1###']);
      $("input[name='rdKoukuJoutai1']").val(['###RDKOUKUJOUTAI1###']);
      $("input[name='rdHaisetsuKoui1']").val(['###RDHAISETSUKOUI1###']);
      $("input[name='rdHaisetsuKoui2']").val(['###RDHAISETSUKOUI2###']);
      $("input[name='rdNyoui1']").val(['###RDNYOUI1###']);
      $("input[name='rdBeni1']").val(['###RDBENI1###']);
      $("input[name='rdNyouShikkin1']").val(['###RDNYOUSHIKKIN1###']);
      $("input[name='rdBenShikkin1']").val(['###RDBENSHIKKIN1###']);
      $("input[name='rdYouguShiyou1']").val(['###RDYOUGUSHIYOU1###']);
      $("input[name='rdIADLChouri1']").val(['###RDIADLCHOURI1###']);
      $("input[name='rdIADLSouji1']").val(['###RDIADLSOUJI1###']);
      $("input[name='rdIADLSentaku1']").val(['###RDIADLSENTAKU1###']);
      $("input[name='rdIADLKaimono1']").val(['###RDIADLKAIMONO1###']);
      $("input[name='rdIADLKinsenKanri1']").val(['###RDIADLKINSENKANRI1###']);
      $("input[name='rdIADLKusuriKanri1']").val(['###RDIADLKUSURIKANRI1###']);
      $("input[name='rdIADLDenwaRiyou1']").val(['###RDIADLDENWARIYOU1###']);
      $("input[name='rdIADLKoutsuKikan1']").val(['###RDIADLKOUTSUKIKAN1###']);
      $("input[name='rdShiryoku1']").val(['###RDSHIRYOKU1###']);
      $("input[name='rdChouryoku1']").val(['###RDCHOURYOKU1###']);
      $("input[name='rdIshiSotsu1']").val(['###RDISHISOTSU1###']);
      $("input[name='rdShijiHanno1']").val(['###RDSHIJIHANNO1###']);
      $("input[name='rdSankaIyoku1']").val(['###RDSANKAIYOKU1###']);
      $("input[name='rdTashaKakawari1']").val(['###RDTASHAKAKAWARI1###']);
      $("input[name='rdSoushitsukan1']").val(['###RDSOUSHITSUKAN1###']);
      $("input[name='rdKodokukan1']").val(['###RDKODOKUKAN1###']);
      $("input[name='rdTiikiKyouryoku1']").val(['###RDTIIKIKYOURYOKU1###']);
      $("input[name='rdNinchiMonowasure1']").val(['###RDNINCHIMONOWASURE1###']);
      $("input[name='rdNinchiKettei1']").val(['###RDNINCHIKETTEI1###']);
      $("input[name='rdMondaiHigaiteki1']").val(['###RDMONDAIHIGAITEKI1###']);
      $("input[name='rdMondaiOchitsukinashi1']").val(['###RDMONDAIOCHITSUKINASHI1###']);
      $("input[name='rdMondaiSawa1']").val(['###RDMONDAISAWA1###']);
      $("input[name='rdMondaiHitoriDetai1']").val(['###RDMONDAIHITORIDETAI1###']);
      $("input[name='rdMondaiKanjoFuan1']").val(['###RDMONDAIKANJOFUAN1###']);
      $("input[name='rdMondaiSyusyu1']").val(['###RDMONDAISYUSYU1###']);
      $("input[name='rdMondaiHiruyoru1']").val(['###RDMONDAIHIRUYORU1###']);
      $("input[name='rdMondaiKowasu1']").val(['###RDMONDAIKOWASU1###']);
      $("input[name='rdMondaiOnajiHanashi1']").val(['###RDMONDAIONAJIHANASHI1###']);
      $("input[name='rdMondaiHitorigoto1']").val(['###RDMONDAIHITORIGOTO1###']);
      $("input[name='rdMondaiOogoe1']").val(['###RDMONDAIOOGOE1###']);
      $("input[name='rdMondaiJibunKatte1']").val(['###RDMONDAIJIBUNKATTE1###']);
      $("input[name='rdMondaiTeiko1']").val(['###RDMONDAITEIKO1###']);
      $("input[name='rdMondaiMatomaranai1']").val(['###RDMONDAIMATOMARANAI1###']);

      //  チェックボックス入力セット
      $chkbox1='###CHKNICCHUDOKKYO###';
      if($chkbox1=="on") {
          $('#chkNicchuDokkyo').attr('checked','checked');
      }
      $chkbox2='###CHKGYAKUTAI###';
      if($chkbox2=="on") {
          $('#chkGyakutai').attr('checked','checked');
      }
      $chkbox3='###CHKTERMINAL###';
      if($chkbox3=="on") {
          $('#chkTerminal').attr('checked','checked');
      }
      $chkbox4='###CHKSEINENKOUKEN###';
      if($chkbox4=="on") {
          $('#chkSeinenKouken').attr('checked','checked');
      }
      $chkbox5='###CHKTOKUBETSUSONOTA###';
      if($chkbox5=="on") {
          $('#chkTokubetsuSonota').attr('checked','checked');
      }
      $chkbox6='###CHKBEDSAKU1###';
      if($chkbox6=="1") {
          $('#chkBedsaku1').attr('checked','checked');
      }



        //  フェースシート
        //  相談内容
        //  これまでの生活の経過

        //  家族・支援状況
        //  家族構成一覧

      var numKazokuKousei=0;
      var htmlKazokuKousei="";

      if(kazokud.length>0) {
         for(var k in kazokud) {
            htmlKazokuKousei="";
            htmlKazokuKousei=htmlKazokuKousei+'<tr>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlKazokuKousei=htmlKazokuKousei+'<input type="text" id="NyukyoshaKazokuShimei'+numKazokuKousei+'" name="NyukyoshaKazokuShimei'+numKazokuKousei+'" value="'+kazokud[k].shimei+'" style="width:100%" readonly>';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
//            htmlKazokuKousei=htmlKazokuKousei+'<select id="NyukyoshaKazokuZokugara'+numKazokuKousei+'" name="NyukyoshaKazokuZokugara'+numKazokuKousei+'" class="NyukyoshaKazokuZokugara"><option value=""></option></select>';
            htmlKazokuKousei=htmlKazokuKousei+'<input style="width:60px" id="NyukyoshaKazokuZokugara'+numKazokuKousei+'" name="NyukyoshaKazokuZokugara'+numKazokuKousei+'" class="NyukyoshaKazokuZokugara" list="dlNyukyoshaKazokuZokugara'+numKazokuKousei+'" readonly>';
            htmlKazokuKousei=htmlKazokuKousei+'<datalist id="dlNyukyoshaKazokuZokugara'+numKazokuKousei+'" ></datalist>';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:10px 5px 10px 5px;">';
            htmlKazokuKousei=htmlKazokuKousei+'<input type="number" step="1" min="1" max="200" placeholder="20" id="NyukyoshaKazokuNenrei'+numKazokuKousei+'" name="NyukyoshaKazokuNenrei'+numKazokuKousei+'" value="'+kazokud[k].nenrei+'" style="width:100%">';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlKazokuKousei=htmlKazokuKousei+'<input id="NyukyoshaKazokuKenkou'+numKazokuKousei+'" name="NyukyoshaKazokuKenkou'+numKazokuKousei+'" type="text" style="width:100%" class="NyukyoshaKazokuKenkou">';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'</tr>';

            $('#tblNyukyoshaKazokukousei').append(htmlKazokuKousei);
            setZokugaraPulldownKazoku(numKazokuKousei);
            $('#NyukyoshaKazokuZokugara'+numKazokuKousei).val(kazokud[k].zokugara);
            $('#NyukyoshaKazokuKenkou'+numKazokuKousei).val(kazokud[k].kenkou);
            numKazokuKousei++;
         }
      }

      var htmlKinkyuRenraku="";
      var numKinkyuRenraku=0;
      if(renrakud.length>0) {
          for(var r in renrakud) {
            htmlKinkyuRenraku="";
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<tr>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px; width:140px">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<input type="text" id="NyukyoshaKinkyuShimei'+numKinkyuRenraku+'" name="NyukyoshaKinkyuShimei'+numKinkyuRenraku+'" value="'+renrakud[r].shimei+'" style="width:100%" readonly>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px; width:80px">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<input id="NyukyoshaKinkyuZokugara'+numKinkyuRenraku+'" name="NyukyoshaKinkyuZokugara'+numKinkyuRenraku+'" class="NyukyoshaKinkyuZokugara" style="width:100%" type="text" readonly >';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px; width:330px">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<font style="font-size:12px"><input type="text" id="NyukyoshaKinkyuJusho'+numKinkyuRenraku+'" name="NyukyoshaKinkyuJusho'+numKinkyuRenraku+'" value="'+renrakud[r].jusho+'" style="width:100%" readonly ></font>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px; width:100px">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<input type="tel" pattern="\\d{1,5}-\\d{1,4}-\\d{4,5}"  placeholder="090-0000-0000" id="NyukyoshaKinkyuDenwaKeitai'+numKinkyuRenraku+'" name="NyukyoshaKinkyuDenwaKeitai'+numKinkyuRenraku+'" value="'+renrakud[r].keitaitel+'" style="width:100%"  readonly>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px; width:100px">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<input type="tel" pattern="\\d{1,5}-\\d{1,4}-\\d{4,5}"  placeholder="03-0000-0000" id="NyukyoshaKinkyuDenwa'+numKinkyuRenraku+'" name="NyukyoshaKinkyuDenwa'+numKinkyuRenraku+'" value="'+renrakud[r].tel+'" style="width:100%" readonly>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</tr>';

            $('#tblNyukyoshaKinkyurenrakusaki').append(htmlKinkyuRenraku);
            setZokugaraPulldownKinkyu(numKinkyuRenraku);
            $('#NyukyoshaKinkyuZokugara'+numKinkyuRenraku).val(renrakud[r].zokugara);
            numKinkyuRenraku++;
          }
      }

      var htmlRiyouService="";
      var numRiyouServiceKihon=0;
      if(hokenservicekihond.length>0) {
          for(var hk in hokenservicekihond) {
            htmlRiyouService="";
            htmlRiyouService=htmlRiyouService+'<tr>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input id="slGenzaiKaigoServiceKihonJouhouShubetsu'+numRiyouService+'" name="slGenzaiKaigoServiceKihonJouhouShubetsu'+numRiyouServiceKihon+'" type="text" value="'+hokenservicekihond[hk].shubetsu+'" readonly>';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceKihonJouhouJigyousho'+numRiyouServiceKihon+'" name="txtGenzaiKaigoServiceKihonJouhouJigyousho'+numRiyouServiceKihon+'" value="'+hokenservicekihond[hk].jigyousho+'" style="width:100%" readonly>';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceKihonJouhouBiko'+numRiyouService+'" name="txtGenzaiKaigoServiceKihonJouhouBiko'+numRiyouServiceKihon+'" value="'+hokenservicekihond[hk].biko+'" style="width:100%" readonly>';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'</tr>';

            $('#tblGenzaiKaigohoken').append(htmlRiyouService);
            numRiyouServiceKihon++;

          }
      }

      var htmlRiyouService="";
      var numRiyouService=0;
      if(hokenserviced.length>0) {
          for(var h in hokenserviced) {
            htmlRiyouService="";
            htmlRiyouService=htmlRiyouService+'<tr>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input id="slGenzaiKaigoServiceShubetsu'+numRiyouService+'" name="slGenzaiKaigoServiceShubetsu'+numRiyouService+'" list="dlGenzaiKaigoServiceShubetsu'+numRiyouService+'">';
            htmlRiyouService=htmlRiyouService+'<datalist id="dlGenzaiKaigoServiceShubetsu'+numRiyouService+'" class="slGenzaiKaigoServiceShubetsu"></datalist>';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceJigyousho'+numRiyouService+'" name="txtGenzaiKaigoServiceJigyousho'+numRiyouService+'" value="'+hokenserviced[h].jigyousho+'" style="width:100%">';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceBiko'+numRiyouService+'" name="txtGenzaiKaigoServiceBiko'+numRiyouService+'" value="'+hokenserviced[h].biko+'" style="width:100%">';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'</tr>';

            $('#tblGenzaiKaigohoken').append(htmlRiyouService);

            setServiceShubetsuPulldown(numRiyouService);

            $('#slGenzaiKaigoServiceShubetsu'+numRiyouService).val(hokenserviced[h].shubetsu);

            numRiyouService++;
          }
      } else {
            htmlRiyouService="";
            htmlRiyouService=htmlRiyouService+'<tr>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input id="slGenzaiKaigoServiceShubetsu'+numRiyouService+'" name="slGenzaiKaigoServiceShubetsu'+numRiyouService+'" list="dlGenzaiKaigoServiceShubetsu'+numRiyouService+'">';
            htmlRiyouService=htmlRiyouService+'<datalist id="dlGenzaiKaigoServiceShubetsu'+numRiyouService+'" class="slGenzaiKaigoServiceShubetsu"></datalist>';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceJigyousho'+numRiyouService+'" name="txtGenzaiKaigoServiceJigyousho'+numRiyouService+'" value="" style="width:100%">';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceBiko'+numRiyouService+'" name="txtGenzaiKaigoServiceBiko'+numRiyouService+'" value="" style="width:100%">';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'</tr>';

            $('#tblGenzaiKaigohoken').append(htmlRiyouService);

            setServiceShubetsuPulldown(numRiyouService);

            numRiyouService++;
      }

      var htmlJushinByouin="";
      var numJushinByouin=0;
      if(jushinbyouind.length>0) {
          for(var j in jushinbyouind) {
            htmlJushinByouin="";
            htmlJushinByouin=htmlJushinByouin+'<tr>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinByouinmei'+numJushinByouin+'" name="txtJushinByouinmei'+numJushinByouin+'" value="'+jushinbyouind[j].byouinmei+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinIshimei'+numJushinByouin+'" name="txtJushinIshimei'+numJushinByouin+'" value="'+jushinbyouind[j].ishimei+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
//            htmlJushinByouin=htmlJushinByouin+'<select id="slJushinShinryouKamoku'+numJushinByouin+'" name="slJushinShinryouKamoku'+numJushinByouin+'" class="slJushinShinryouKamoku"></select>';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="slJushinShinryouKamoku'+numJushinByouin+'" name="slJushinShinryouKamoku'+numJushinByouin+'" class="slJushinShinryouKamoku" list="slDispJushinShinryouKamoku'+numJushinByouin+'"><datalist id="slDispJushinShinryouKamoku'+numJushinByouin+'" class="slDispJushinShinryouKamoku"></datalist>';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="tel" pattern="\\d{1,5}-\\d{1,4}-\\d{4,5}"  placeholder="03-0000-0000" id="txtJushinDenwabangou'+numJushinByouin+'" name="txtJushinDenwabangou'+numJushinByouin+'" value="'+jushinbyouind[j].tel+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinJoukyou'+numJushinByouin+'" name="txtJushinJoukyou'+numJushinByouin+'" value="'+jushinbyouind[j].joukyou+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'</tr>';

            $('#tblJushinByouin').append(htmlJushinByouin);
            setShinryoukaPulldown(numJushinByouin);
            $('#slJushinShinryouKamoku'+numJushinByouin).val(jushinbyouind[j].kamoku);
            numJushinByouin++;
          }
      } else {
            htmlJushinByouin="";
            htmlJushinByouin=htmlJushinByouin+'<tr>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinByouinmei'+numJushinByouin+'" name="txtJushinByouinmei'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinIshimei'+numJushinByouin+'" name="txtJushinIshimei'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
//            htmlJushinByouin=htmlJushinByouin+'<select id="slJushinShinryouKamoku'+numJushinByouin+'" name="slJushinShinryouKamoku'+numJushinByouin+'" class="slJushinShinryouKamoku"></select>';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="slJushinShinryouKamoku'+numJushinByouin+'" name="slJushinShinryouKamoku'+numJushinByouin+'" class="slJushinShinryouKamoku" list="slDispJushinShinryouKamoku'+numJushinByouin+'"><datalist id="slDispJushinShinryouKamoku'+numJushinByouin+'" class="slDispJushinShinryouKamoku"></datalist>';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="tel" pattern="\\d{1,5}-\\d{1,4}-\\d{4,5}"  placeholder="03-0000-0000" id="txtJushinDenwabangou'+numJushinByouin+'" name="txtJushinDenwabangou'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinJoukyou'+numJushinByouin+'" name="txtJushinJoukyou'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'</tr>';

            $('#tblJushinByouin').append(htmlJushinByouin);
            setShinryoukaPulldown(numJushinByouin);
            numJushinByouin++;
      }

      var htmlShoubyou="";
      var numShoubyouKihon=0;
      if(shoubyoukihond.length>0) {
          for(var sbk in shoubyoukihond) {
            htmlShoubyou="";
            htmlShoubyou=htmlShoubyou+'<tr>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:90%">';
            htmlShoubyou=htmlShoubyou+'<input type="text" id="txtShoubyoumeiKihon'+numShoubyouKihon+'" name="txtShoubyoumeiKihon'+numShoubyouKihon+'" value="'+shoubyoukihond[sbk].byoumei+'" style="width:100%" readonly>';
            htmlShoubyou=htmlShoubyou+'</td>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlShoubyou=htmlShoubyou+'<input type="number" id="txtShoubyounenreiKihon'+numShoubyouKihon+'" name="txtShoubyounenrei'+numShoubyouKihon+'" value="'+shoubyoukihond[sbk].nenrei+'" style="width:60%" readonly>歳';
            htmlShoubyou=htmlShoubyou+'</td>';
            htmlShoubyou=htmlShoubyou+'</tr>';

            $('#tblShoubyou').append(htmlShoubyou);
            numShoubyouKihon++;
          }
      }


      var htmlShoubyou="";
      var numShoubyou=0;
      if(shoubyoud.length>0) {
          for(var sb in shoubyoud) {
            htmlShoubyou="";
            htmlShoubyou=htmlShoubyou+'<tr>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:90%">';
            htmlShoubyou=htmlShoubyou+'<input type="text" id="txtShoubyoumei'+numShoubyou+'" name="txtShoubyoumei'+numShoubyou+'" value="'+shoubyoud[sb].byoumei+'" style="width:100%">';
            htmlShoubyou=htmlShoubyou+'</td>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlShoubyou=htmlShoubyou+'<input type="number" id="txtShoubyounenrei'+numShoubyou+'" name="txtShoubyounenrei'+numShoubyou+'" value="'+shoubyoud[sb].nenrei+'" style="width:60%">歳';
            htmlShoubyou=htmlShoubyou+'</td>';
            htmlShoubyou=htmlShoubyou+'</tr>';

            $('#tblShoubyou').append(htmlShoubyou);
            $('#slShoubyouumu'+numShoubyou).val(shoubyoud[sb].umu);
            numShoubyou++;
          }
      } else {
            htmlShoubyou="";
            htmlShoubyou=htmlShoubyou+'<tr>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:90%">';
            htmlShoubyou=htmlShoubyou+'<input type="text" id="txtShoubyoumei'+numShoubyou+'" name="txtShoubyoumei'+numShoubyou+'" style="width:100%">';
            htmlShoubyou=htmlShoubyou+'</td>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlShoubyou=htmlShoubyou+'<input type="number" id="txtShoubyounenrei'+numShoubyou+'" name="txtShoubyounenrei'+numShoubyou+'" style="width:60%">歳';
            htmlShoubyou=htmlShoubyou+'</td>';
            htmlShoubyou=htmlShoubyou+'</tr>';

            $('#tblShoubyou').append(htmlShoubyou);
            numShoubyou++;
      }

      var mahihtml="";
      var mahinum=0;
      if(mahid.length>0) {
        for(var mh in mahid){
            mahihtml="";
            mahihtml=mahihtml+'<tr>';
            mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:30%">';
            mahihtml=mahihtml+'<select id="slMahi'+mahinum+'" name="slMahi'+mahinum+'">';
            mahihtml=mahihtml+'<option value=""></option>';
            mahihtml=mahihtml+'<option value="0">麻痺</option>';
            mahihtml=mahihtml+'<option value="1">関節の拘縮</option>';
            mahihtml=mahihtml+'<option value="2">皮膚疾患</option>';
            mahihtml=mahihtml+'<option value="3">褥瘡</option>';
            mahihtml=mahihtml+'</select>';
            mahihtml=mahihtml+'</td>';
            mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:30%">痛み';
            mahihtml=mahihtml+'<select id="slMahiItami'+mahinum+'" name="slMahiItami'+mahinum+'">';
            mahihtml=mahihtml+'<option value=""></option>';
            mahihtml=mahihtml+'<option value="0">なし</option>';
            mahihtml=mahihtml+'<option value="1">あり</option>';
            mahihtml=mahihtml+'</select>';
            mahihtml=mahihtml+'</td>';
            mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:40%">部位';
            mahihtml=mahihtml+'<input id="MahiBasho'+mahinum+'" name="MahiBasho'+mahinum+'" value="'+mahid[mh].basho+'">';
            mahihtml=mahihtml+'</td>';
            mahihtml=mahihtml+'</tr>';
    
            $('#tblMahi').append(mahihtml);
            $('#slMahi'+mahinum).val(mahid[mh].mahi);
            $('#slMahiItami'+mahinum).val(mahid[mh].itami);
    
            mahinum++;

        }
      } else {
            mahihtml="";
            mahihtml=mahihtml+'<tr>';
            mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:30%">';
            mahihtml=mahihtml+'<select id="slMahi'+mahinum+'" name="slMahi'+mahinum+'">';
            mahihtml=mahihtml+'<option value=""></option>';
            mahihtml=mahihtml+'<option value="0">麻痺</option>';
            mahihtml=mahihtml+'<option value="1">関節の拘縮</option>';
            mahihtml=mahihtml+'<option value="2">皮膚疾患</option>';
            mahihtml=mahihtml+'<option value="3">褥瘡</option>';
            mahihtml=mahihtml+'</select>';
            mahihtml=mahihtml+'</td>';
            mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:30%">痛み';
            mahihtml=mahihtml+'<select id="slMahiItami'+mahinum+'" name="slMahiItami'+mahinum+'">';
            mahihtml=mahihtml+'<option value=""></option>';
            mahihtml=mahihtml+'<option value="0">なし</option>';
            mahihtml=mahihtml+'<option value="1">あり</option>';
            mahihtml=mahihtml+'</select>';
            mahihtml=mahihtml+'</td>';
            mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:40%">部位';
            mahihtml=mahihtml+'<input id="MahiBasho'+mahinum+'" name="MahiBasho'+mahinum+'">';
            mahihtml=mahihtml+'</td>';
            mahihtml=mahihtml+'</tr>';
    
            $('#tblMahi').append(mahihtml);
    
            mahinum++;
      }


      var htmlNyuinNyusho="";
      var numNyuinNyusho=0;
      if(nyuind.length>0) {
          for(var ny in nyuind) {
            htmlNyuinNyusho="";
            htmlNyuinNyusho=htmlNyuinNyusho+'<tr>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtShisetsumei'+numNyuinNyusho+'" name="txtShisetsumei'+numNyuinNyusho+'" value="'+nyuind[ny].shisetsumei+'" style="width:100%" placeholder="施設名">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinRiyu'+numNyuinNyusho+'" name="txtNyuinRiyu'+numNyuinNyusho+'" value="'+nyuind[ny].nyuinriyu+'" style="width:100%" placeholder="～科、病名など">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:40%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinStart'+numNyuinNyusho+'" name="txtNyuinStart'+numNyuinNyusho+'" class="txtNyuinPeriod"  value="'+nyuind[ny].start+'" style="width:45%;background-color:lightyellow;" placeholder="入院(所)日">～';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinEnd'+numNyuinNyusho+'" name="txtNyuinEnd'+numNyuinNyusho+'" class="txtNyuinPeriod" value="'+nyuind[ny].end+'" style="width:45%;background-color:lightyellow;" placeholder="退院(所)日">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'</tr>';

            $('#tblNyuinNyusho').append(htmlNyuinNyusho);
            numNyuinNyusho++;
          }
      } else {
            htmlNyuinNyusho="";
            htmlNyuinNyusho=htmlNyuinNyusho+'<tr>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtShisetsumei'+numNyuinNyusho+'" name="txtShisetsumei'+numNyuinNyusho+'" value="" style="width:100%" placeholder="施設名">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinRiyu'+numNyuinNyusho+'" name="txtNyuinRiyu'+numNyuinNyusho+'" value="" style="width:100%" placeholder="～科、病名など">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:40%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinStart'+numNyuinNyusho+'" name="txtNyuinStart'+numNyuinNyusho+'" class="txtNyuinPeriod" value="" style="width:40%;background-color:lightyellow;" placeholder="入院(所)日">～';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinEnd'+numNyuinNyusho+'" name="txtNyuinEnd'+numNyuinNyusho+'" class="txtNyuinPeriod" value="" style="width:40%;background-color:lightyellow;" placeholder="退院(所)日">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'</tr>';

            $('#tblNyuinNyusho').append(htmlNyuinNyusho);
            numNyuinNyusho++;
      }


      var htmlAlergy="";
      var numAlergy=0;
      if(alergyd.length>0) {
          for(var al in alergyd) {
            AlergyDetailInfo=alergyd[al].detail.replace(/<br>/g,"\n");
            htmlAlergy="";
            htmlAlergy=htmlAlergy+'<tr>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:20%">';
            htmlAlergy=htmlAlergy+'<input type="text" id="txtAlergy'+numAlergy+'" name="txtAlergy'+numAlergy+'" value="'+alergyd[al].alergy+'" style="width:100%" readonly >';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:15%">';
            htmlAlergy=htmlAlergy+'<input type="radio" id="slAlergyAri'+numAlergy+'" name="slAlergy'+numAlergy+'" value="0" style="width:20%">なし';
            htmlAlergy=htmlAlergy+'<input type="radio" id="slAlergyNashi'+numAlergy+'" name="slAlergy'+numAlergy+'" value="1" style="width:20%">あり';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:65%">';
            htmlAlergy=htmlAlergy+'<textarea id="txtAlergyDetail'+numAlergy+'" name="txtAlergyDetail'+numAlergy+'" class="txtareaautoresize" style="width:100%" rows="1">'+AlergyDetailInfo+'</textarea>';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'</tr>';

            $('#tblAlergy').append(htmlAlergy);
            $("input[name=slAlergy"+numAlergy+"]").val([alergyd[al].umu]);
            $('.txtareaautoresize').autosize();
            numAlergy++;
          }
      } else {
            htmlAlergy="";
            htmlAlergy=htmlAlergy+'<tr>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:20%">';
            htmlAlergy=htmlAlergy+'<input type="text" id="txtAlergy'+numAlergy+'" name="txtAlergy'+numAlergy+'" value="薬" style="width:100%" readonly >';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:15%">';
            htmlAlergy=htmlAlergy+'<input type="radio" id="slAlergyAri'+numAlergy+'" name="slAlergy'+numAlergy+'" value="0" style="width:20%">なし';
            htmlAlergy=htmlAlergy+'<input type="radio" id="slAlergyNashi'+numAlergy+'" name="slAlergy'+numAlergy+'" value="1" style="width:20%">あり';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:65%">';
            htmlAlergy=htmlAlergy+'<textarea id="txtAlergyDetail'+numAlergy+'" name="txtAlergyDetail'+numAlergy+'" class="txtareaautoresize" style="width:100%" rows="1"></textarea>';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'</tr>';

            $('#tblAlergy').append(htmlAlergy);
            numAlergy++;

            htmlAlergy="";
            htmlAlergy=htmlAlergy+'<tr>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:20%">';
            htmlAlergy=htmlAlergy+'<input type="text" id="txtAlergy'+numAlergy+'" name="txtAlergy'+numAlergy+'" value="その他" style="width:100%" readonly >';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:10%">';
            htmlAlergy=htmlAlergy+'<select id="slAlergy'+numAlergy+'" name="slAlergy'+numAlergy+'">';
            htmlAlergy=htmlAlergy+'<option value=""></option>';
            htmlAlergy=htmlAlergy+'<option value="0">なし</option>';
            htmlAlergy=htmlAlergy+'<option value="1">あり</option>';
            htmlAlergy=htmlAlergy+'</select>';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:70%">';
            htmlAlergy=htmlAlergy+'<textarea id="txtAlergyDetail'+numAlergy+'" name="txtAlergyDetail'+numAlergy+'" class="txtareaautoresize" style="width:100%" rows="1"></textarea>';
            htmlAlergy=htmlAlergy+'</td>';
            htmlAlergy=htmlAlergy+'</tr>';

            $('#tblAlergy').append(htmlAlergy);
            $('.txtareaautoresize').autosize();
            numAlergy++;
      }

      var htmlKansenshou="";
      var numKansenshouKihon=0;
      if(kansenshoukihond.length>0) {
          for(var ksk in kansenshoukihond) {
            htmlKansenshou="";
            htmlKansenshou=htmlKansenshou+'<tr>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshouKihonJouhou'+numKansenshouKihon+'" name="txtKansenshouKihonJouhou'+numKansenshouKihon+'" value="'+kansenshoukihond[ksk].name+'" style="width:100%" readonly>';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlKansenshou=htmlKansenshou+'<input type="radio" id="slKansenshouKihonJouhouPlus'+numKansenshouKihon+'" name="slKansenshouKihonJouhou'+numKansenshouKihon+'" value="1" style="width:30%" disabled>＋';
            htmlKansenshou=htmlKansenshou+'<input type="radio" id="slKansenshouKihonJouhouMinus'+numKansenshouKihon+'" name="slKansenshouKihonJouhou'+numKansenshouKihon+'" value="0" style="width:30%" disabled>－';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:60%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshouBikoKihonJouhou'+numKansenshouKihon+'" name="txtKansenshouBikoKihonJouhou'+numKansenshouKihon+'" value="'+kansenshoukihond[ksk].biko+'" style="width:100%" readonly>';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'</tr>';

            $('#tblKansenshou').append(htmlKansenshou);
            $("input[name=slKansenshouKihonJouhou"+numKansenshouKihon+"]").val([kansenshoukihond[ksk].umu]);
            numKansenshouKihon++;
          }
      }

      var htmlKansenshou="";
      var numKansenshou=0;
      if(kansenshoud.length>0) {
          for(var ks in kansenshoud) {
            htmlKansenshou="";
            htmlKansenshou=htmlKansenshou+'<tr>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshou'+numKansenshou+'" name="txtKansenshou'+numKansenshou+'" value="'+kansenshoud[ks].name+'" style="width:100%" placeholder="感染症名">';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlKansenshou=htmlKansenshou+'<input type="radio" id="slKansenshouPlus'+numKansenshou+'" name="slKansenshou'+numKansenshou+'" value="1" style="width:30%">＋';
            htmlKansenshou=htmlKansenshou+'<input type="radio" id="slKansenshouMinus'+numKansenshou+'" name="slKansenshou'+numKansenshou+'" value="0" style="width:30%">－';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:60%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshouBiko'+numKansenshou+'" name="txtKansenshouBiko'+numKansenshou+'" value="'+kansenshoud[ks].biko+'" style="width:100%" placeholder="備考">';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'</tr>';

            $('#tblKansenshou').append(htmlKansenshou);
            $("input[name=slKansenshou"+numKansenshou+"]").val([kansenshoud[ks].umu]);
            numKansenshou++;
          }
      } else {
            htmlKansenshou="";
            htmlKansenshou=htmlKansenshou+'<tr>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshou'+numKansenshou+'" name="txtKansenshou'+numKansenshou+'" value="" style="width:100%" placeholder="感染症名">';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlKansenshou=htmlKansenshou+'<input type="radio" id="slKansenshouPlus'+numKansenshou+'" name="slKansenshou'+numKansenshou+'" value="1" style="width:30%">＋';
            htmlKansenshou=htmlKansenshou+'<input type="radio" id="slKansenshouMinus'+numKansenshou+'" name="slKansenshou'+numKansenshou+'" value="0" style="width:30%">－';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:60%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshouBiko'+numKansenshou+'" name="txtKansenshouBiko'+numKansenshou+'" value="" style="width:100%;" placeholder="備考">';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'</tr>';

            $('#tblKansenshou').append(htmlKansenshou);
            numKansenshou++;
      }



      //  表示をクリックしたときの動作
      $('#Hyouji').click(function(){
            riyoushaid=$('#riyosha_name').val();
            dtateya=$('#tateya').val();
            dfloor=$('#floor').val();
            dkyoshitsu=$('#kyoshitsu').val();
            dtaikyo=$('[name="taikyo"]:checked').val();
            $('#Riyoushaid').val(riyoushaid);
            $('#dispTateya').val(dtateya);
            $('#dispFloor').val(dfloor);
            $('#dispKyoshitsu').val(dkyoshitsu);
            $('#dispTaikyo').val(dtaikyo);
            $('#whole [name=MODE]').val("search");
            whole.target="_self";
            whole.action="/E-LIFE/UNEI/cgi-bin/IKOU_ASSESSMENT.CGI";
            whole.method="POST";
            whole.submit();
      });


        $("#print").click(function(){
           $("#whole [name=MODE]").val("print");
           riyoushaid=$('#riyosha_name').val();
           $('#Riyoushaid').val(riyoushaid);
           whole.target="printwindow";
           whole.action="/E-LIFE/UNEI/cgi-bin/IKOU_ASSESSMENT.CGI";
           whole.method="POST";
           whole.submit();
        });


      //  登録したときの動作
      $('#regist').live('click',function(){
           //バリデーションチェック
           var message = "";
           var obj = $($("#tab,#tab2,#tab3,#tab4").find("input:text,input[type='number'],input[type='tel']").not("[disabled='disabled']"));
           $.each(obj,function(id,iid){
             message0 = idealValidateCheck(iid,true);
             if (message0 != "") {
               iiid = $(iid).attr('name');
             //  message1 = message0 + "　：　" + iiid + "\n";
             //  message += message1;
               $("#" + iiid).css("background-color","#ffd6ff"); 
             }
           });
           message += idealValidateCheck($("#tab,#tab2,#tab3,#tab4").find("input:text,input[type='number'],input[type='tel']").not("[disabled='disabled']"), true);
           gyoumuerrmsg=submitInputValidate();
           if (hyoujiflg=="1") {
             kakuninflg=confirm("データ表示ボタンが押されていない可能性があります。続けますか？");
           } else {
             kakuninflg=true;
           }
           if (message != "") {
             alert(message.replace(/undefined/g, "") + "ピンクになっている項目を確認してください。");
             return false;
           } else if(gyoumuerrmsg!="0") {
             alert(gyoumuerrmsg);
             return false;
           } else if(kakuninflg==false) {
             return false;
           } else {
           //  DOM要素のみ先頭にコピー
           $("#tab").children().clone().prependTo($("#whole"));
           //  データを要素にセット
           jQuery.each($("input","#tab"),function(i){
                $("input","#whole").eq(i).val($("input","#tab").eq(i).val());
           });
           jQuery.each($("textarea","#tab"),function(i){
                $("textarea","#whole").eq(i).val($("textarea","#tab").eq(i).val());
           });
           jQuery.each($("select","#tab"),function(i){
                $("select","#whole").eq(i).val($("select","#tab").eq(i).val());
           });
           //  DOM要素のみ先頭にコピー
           $("#tab2").children().clone().prependTo($("#whole"));
           //  データを要素にセット
           jQuery.each($("input","#tab2"),function(i){
                $("input","#whole").eq(i).val($("input","#tab2").eq(i).val());
           });
           jQuery.each($("textarea","#tab2"),function(i){
                $("textarea","#whole").eq(i).val($("textarea","#tab2").eq(i).val());
           });
           jQuery.each($("select","#tab2"),function(i){
                $("select","#whole").eq(i).val($("select","#tab2").eq(i).val());
           });
           //  DOM要素のみ先頭にコピー
           $("#tab3").children().clone().prependTo($("#whole"));
           //  データを要素にセット
           jQuery.each($("input","#tab3"),function(i){
                $("input","#whole").eq(i).val($("input","#tab3").eq(i).val());
           });
           jQuery.each($("textarea","#tab3"),function(i){
                $("textarea","#whole").eq(i).val($("textarea","#tab3").eq(i).val());
           });
           jQuery.each($("select","#tab3"),function(i){
                $("select","#whole").eq(i).val($("select","#tab3").eq(i).val());
           });
           //  DOM要素のみ先頭にコピー
           $("#tab4").children().clone().prependTo($("#whole"));
           //  データを要素にセット
           jQuery.each($("input","#tab4"),function(i){
                $("input","#whole").eq(i).val($("input","#tab4").eq(i).val());
           });
           jQuery.each($("textarea","#tab4"),function(i){
                $("textarea","#whole").eq(i).val($("textarea","#tab4").eq(i).val());
           });
           jQuery.each($("select","#tab4"),function(i){
                $("select","#whole").eq(i).val($("select","#tab4").eq(i).val());
           });
           //  DOM要素のみ先頭にコピー

           $("#whole [name=MODE]").val("regist");
           dtateya=$('#tateya').val();
           dfloor=$('#floor').val();
           dkyoshitsu=$('#kyoshitsu').val();
           $('#dispTateya').val(dtateya);
           $('#dispFloor').val(dfloor);
           $('#dispKyoshitsu').val(dkyoshitsu);
           $("#NyukyoshaKazokuVal").val(numKazokuKousei);
           $("#NyukyoshaKinkyuVal").val(numKinkyuRenraku);
           $("#RiyouServiceVal").val(numRiyouService);
           $("#RiyouServiceKihonVal").val(numRiyouServiceKihon);
           $("#JushinJoukyouVal").val(numJushinByouin);
           $("#ShoubyouVal").val(numShoubyou);
           $("#ShoubyouKihonVal").val(numShoubyouKihon);
           $("#MahiVal").val(mahinum);
           $("#NyuinNyushoVal").val(numNyuinNyusho);
           $("#AlergyVal").val(numAlergy);
           $("#KansenshouVal").val(numKansenshou);
           $("#KansenshouKihonVal").val(numKansenshouKihon);
           whole.target="_self";
           whole.action="/E-LIFE/UNEI/cgi-bin/IKOU_ASSESSMENT.CGI";
           whole.method="POST";
           whole.submit();         
			}
      });


//  家族・支援状況
//  家族構成一覧

        $('#btnAddKazoku').live('click',function(){
            htmlKazokuKousei="";
            htmlKazokuKousei=htmlKazokuKousei+'<tr>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlKazokuKousei=htmlKazokuKousei+'<input type="text" id="NyukyoshaKazokuShimei'+numKazokuKousei+'" name="NyukyoshaKazokuShimei'+numKazokuKousei+'" style="width:100%">';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
//            htmlKazokuKousei=htmlKazokuKousei+'<select id="NyukyoshaKazokuZokugara'+numKazokuKousei+'" name="NyukyoshaKazokuZokugara'+numKazokuKousei+'" class="NyukyoshaKazokuZokugara"></select>';
            htmlKazokuKousei=htmlKazokuKousei+'<input id="NyukyoshaKazokuZokugara'+numKazokuKousei+'" name="NyukyoshaKazokuZokugara'+numKazokuKousei+'" list="dlNyukyoshaKazokuZokugara'+numKazokuKousei+'">';
            htmlKazokuKousei=htmlKazokuKousei+'<datalist id="dlNyukyoshaKazokuZokugara'+numKazokuKousei+'" class="dlNyukyoshaKazokuZokugara"></datalist>';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:10px 5px 10px 5px;">';
            htmlKazokuKousei=htmlKazokuKousei+'<input type="number" step="1" min="1" max="200" placeholder="20" id="NyukyoshaKazokuNenrei'+numKazokuKousei+'" name="NyukyoshaKazokuNenrei'+numKazokuKousei+'" style="width:100%">';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlKazokuKousei=htmlKazokuKousei+'<select id="NyukyoshaKazokuKenkou'+numKazokuKousei+'" name="NyukyoshaKazokuKenkou'+numKazokuKousei+'" class="NyukyoshaKazokuKenkou">';
            htmlKazokuKousei=htmlKazokuKousei+'<option value="0">良好</option>';
            htmlKazokuKousei=htmlKazokuKousei+'<option value="1">不良</option>';
            htmlKazokuKousei=htmlKazokuKousei+'</select>';
            htmlKazokuKousei=htmlKazokuKousei+'</td>';
            htmlKazokuKousei=htmlKazokuKousei+'</tr>';

            $('#tblNyukyoshaKazokukousei').append(htmlKazokuKousei);
            setZokugaraPulldownKazoku(numKazokuKousei);
            numKazokuKousei++;
        });

//  緊急連絡先一覧
        $('#btnAddRenrakusaki').live('click',function(){
            htmlKinkyuRenraku="";
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<tr>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<input type="text" id="NyukyoshaKinkyuShimei'+numKinkyuRenraku+'" name="NyukyoshaKinkyuShimei'+numKinkyuRenraku+'" style="width:100%" readonly>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
//            htmlKinkyuRenraku=htmlKinkyuRenraku+'<select id="NyukyoshaKinkyuZokugara'+numKinkyuRenraku+'" name="NyukyoshaKinkyuZokugara'+numKinkyuRenraku+'" class="NyukyoshaKinkyuZokugara"></select>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<input id="NyukyoshaKinkyuZokugara'+numKinkyuRenraku+'" name="NyukyoshaKinkyuZokugara'+numKinkyuRenraku+'" class="NyukyoshaKinkyuZokugara" readonly>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<font style="font-size:12px"><input type="text" id="NyukyoshaKinkyuJusho'+numKinkyuRenraku+'" name="NyukyoshaKinkyuJusho'+numKinkyuRenraku+'" style="width:100%" readonly ></font>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'<input type="tel" pattern="\\d{1,5}-\\d{1,4}-\\d{4,5}"  placeholder="03-0000-0000" id="NyukyoshaKinkyuDenwa'+numKinkyuRenraku+'" name="NyukyoshaKinkyuDenwa'+numKinkyuRenraku+'" readonly>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</td>';
            htmlKinkyuRenraku=htmlKinkyuRenraku+'</tr>';
            
            $('#tblNyukyoshaKinkyurenrakusaki').append(htmlKinkyuRenraku);
//            setZokugaraPulldownKinkyu(numKinkyuRenraku);
            numKinkyuRenraku++;
        });

//  利用サービス一覧
        $('#btnAddRiyouService').live('click',function(){
            htmlRiyouService="";
            htmlRiyouService=htmlRiyouService+'<tr>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input id="slGenzaiKaigoServiceShubetsu'+numRiyouService+'" name="slGenzaiKaigoServiceShubetsu'+numRiyouService+'" list="dlGenzaiKaigoServiceShubetsu'+numRiyouService+'">';
            htmlRiyouService=htmlRiyouService+'<datalist id="dlGenzaiKaigoServiceShubetsu'+numRiyouService+'" class="slGenzaiKaigoServiceShubetsu"></datalist>';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceJigyousho'+numRiyouService+'" name="txtGenzaiKaigoServiceJigyousho'+numRiyouService+'" style="width:100%">';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;">';
            htmlRiyouService=htmlRiyouService+'<input type="text" id="txtGenzaiKaigoServiceBiko'+numRiyouService+'" name="txtGenzaiKaigoServiceBiko'+numRiyouService+'" style="width:100%">';
            htmlRiyouService=htmlRiyouService+'</td>';
            htmlRiyouService=htmlRiyouService+'</tr>';

            $('#tblGenzaiKaigohoken').append(htmlRiyouService);
    
            setServiceShubetsuPulldown(numRiyouService);
    
            numRiyouService++;
        });

//  受診状況一覧
        $('#btnAddJushinByouin').live('click',function(){
            htmlJushinByouin="";
            htmlJushinByouin=htmlJushinByouin+'<tr>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinByouinmei'+numJushinByouin+'" name="txtJushinByouinmei'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinIshimei'+numJushinByouin+'" name="txtJushinIshimei'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
//            htmlJushinByouin=htmlJushinByouin+'<select id="slJushinShinryouKamoku'+numJushinByouin+'" name="slJushinShinryouKamoku'+numJushinByouin+'" class="slJushinShinryouKamoku"></select>';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="slJushinShinryouKamoku'+numJushinByouin+'" name="slJushinShinryouKamoku'+numJushinByouin+'" class="slJushinShinryouKamoku" list="slDispJushinShinryouKamoku'+numJushinByouin+'"><datalist id="slDispJushinShinryouKamoku'+numJushinByouin+'" class="slDispJushinShinryouKamoku"></datalist>';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="tel" pattern="\\d{1,5}-\\d{1,4}-\\d{4,5}"  placeholder="03-0000-0000" id="txtJushinDenwabangou'+numJushinByouin+'" name="txtJushinDenwabangou'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:5px 5px 5px 5px;">';
            htmlJushinByouin=htmlJushinByouin+'<input type="text" id="txtJushinJoukyou'+numJushinByouin+'" name="txtJushinJoukyou'+numJushinByouin+'" style="width:100%">';
            htmlJushinByouin=htmlJushinByouin+'</td>';
            htmlJushinByouin=htmlJushinByouin+'</tr>';

            $('#tblJushinByouin').append(htmlJushinByouin);
            setShinryoukaPulldown(numJushinByouin);
            numJushinByouin++;
        });


//  傷病一覧
        $('#btnAddShoubyou').live('click',function(){
            htmlShoubyou="";
            htmlShoubyou=htmlShoubyou+'<tr>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:90%">';
            htmlShoubyou=htmlShoubyou+'<input type="text" id="txtShoubyoumei'+numShoubyou+'" name="txtShoubyoumei'+numShoubyou+'" style="width:100%">';
            htmlShoubyou=htmlShoubyou+'</td>';
            htmlShoubyou=htmlShoubyou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlShoubyou=htmlShoubyou+'<input type="number" id="txtShoubyounenrei'+numShoubyou+'" name="txtShoubyounenrei'+numShoubyou+'" style="width:60%">歳';
            htmlShoubyou=htmlShoubyou+'</td>';

            htmlShoubyou=htmlShoubyou+'</tr>';

            $('#tblShoubyou').append(htmlShoubyou);    
            numShoubyou++;
        });

//  入院入所一覧
        $('#btnAddNyuinNyusho').live('click',function(){
            htmlNyuinNyusho="";
            htmlNyuinNyusho=htmlNyuinNyusho+'<tr>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtShisetsumei'+numNyuinNyusho+'" name="txtShisetsumei'+numNyuinNyusho+'" style="width:100%" placeholder="施設名">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinRiyu'+numNyuinNyusho+'" name="txtNyuinRiyu'+numNyuinNyusho+'" value="" style="width:100%" placeholder="～科、病名など">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:40%">';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinStart'+numNyuinNyusho+'" name="txtNyuinStart'+numNyuinNyusho+'" class="txtNyuinPeriod" style="width:45%;background-color:lightyellow;" placeholder="入院(所)日">～';
            htmlNyuinNyusho=htmlNyuinNyusho+'<input type="text" id="txtNyuinEnd'+numNyuinNyusho+'" name="txtNyuinEnd'+numNyuinNyusho+'" class="txtNyuinPeriod" style="width:45%;background-color:lightyellow;" placeholder="退院(所)日">';
            htmlNyuinNyusho=htmlNyuinNyusho+'</td>';
            htmlNyuinNyusho=htmlNyuinNyusho+'</tr>';

            $('#tblNyuinNyusho').append(htmlNyuinNyusho);
            numNyuinNyusho++;

                    $(".txtNyuinPeriod").datepicker({
                        changeYear:true,
                        onSelect: function(dateText, inst){
                           var ArrDate=dateText.split("/");
                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
                           $(this).val(DispDate);
                        }
                    });
        });

//  感染症一覧
        $('#btnAddKansenshou').live('click',function(){
            htmlKansenshou="";
            htmlKansenshou=htmlKansenshou+'<tr>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:30%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshou'+numKansenshou+'" name="txtKansenshou'+numKansenshou+'" value="" style="width:100%" placeholder="感染症名">';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:10%">';
            htmlKansenshou=htmlKansenshou+'<select id="slKansenshou'+numKansenshou+'" name="slKansenshou'+numKansenshou+'" style="width:100%">';
            htmlKansenshou=htmlKansenshou+'<option value="1">＋</option>';
            htmlKansenshou=htmlKansenshou+'<option value="0">－</option>';
            htmlKansenshou=htmlKansenshou+'</select>';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'<td style="margin-top:.5em;border:1px solid #bbbbbb;padding:0px 0px 0px 0px;width:60%">';
            htmlKansenshou=htmlKansenshou+'<input type="text" id="txtKansenshouBiko'+numKansenshou+'" name="txtKansenshouBiko'+numKansenshou+'" value="" style="width:100%;" placeholder="備考">';
            htmlKansenshou=htmlKansenshou+'</td>';
            htmlKansenshou=htmlKansenshou+'</tr>';

            $('#tblKansenshou').append(htmlKansenshou);
            numKansenshou++;
        });


        // メニュー上のボタン制御
        $("#home").click(function(){
        });


        $('#SlRiyoushamei').on('click',function(){
            childWindow=window.open("about:blank",'nyukyoshasentakuwindow','width=756, height=500, menubar=no, toolbar=no, scrollbars=no');
            $('#frmMenuAssessment [name="MODE"]').val('init');
            document.frmMenuAssessment.method="POST";
            document.frmMenuAssessment.action="/E-LIFE/UNEI/cgi-bin/POP_SELECT_NYUKYOSHA.CGI";
            document.frmMenuAssessment.target="nyukyoshasentakuwindow";
            document.frmMenuAssessment.submit();
        });


        $("input[name='JutakuKyositsu4']").change(function(){
            if($("input[name='JutakuKyositsu4']:checked").val()=="2") {
                $("#spnJutakuKyoshitsu4-bed").show();
            } else {
                $("#spnJutakuKyoshitsu4-bed").hide();
                $("#spnJutakuKyoshitsu4-sub-sonota").hide();
            }
        });

        $("input[name='JutakuKyositsu4-sub']").change(function(){
            if($("input[name='JutakuKyositsu4-sub']:checked").val()=="4") {
                $("#spnJutakuKyoshitsu4-sub-sonota").show();
            } else {
                $("#spnJutakuKyoshitsu4-sub-sonota").hide();
            }
        });

        $("input[name='JutakuToilet1']").change(function(){
            if($("input[name='JutakuToilet1']:checked").val()=="3") {
                $("#spnJutakuToilet1-sonota").show();
            } else {
                $("#spnJutakuToilet1-sonota").hide();
            }
        });

        $("input[name='JutakuIdou1']").change(function(){
            if($("input[name='JutakuIdou1']:checked").val()=="5") {
                $("#spnJutakuIdou1-sonota").show();
            } else {
                $("#spnJutakuIdou1-sonota").hide();
            }
        });

        $("input[name='JutakuIdou2']").change(function(){
            if($("input[name='JutakuIdou2']:checked").val()=="5") {
                $("#spnJutakuIdou2-sonota").show();
            } else {
                $("#spnJutakuIdou2-sonota").hide();
            }
        });

        $("#slByoumei").live("change",function(){
            var htmlKenkouKioureki=$("#KenkouKioureki").val();
            htmlKenkouKioureki=htmlKenkouKioureki+$("#slByoumei option:selected").text();
            $("#KenkouKioureki").val(htmlKenkouKioureki);
        });

        $("#KihonShintaiKikyo").click(function(){
            $("#DispKihonShintaiKikyo").toggle("slow");
        });


        $("#KihonNyuyoku").click(function(){
            $("#DispKihonNyuyoku").toggle("slow");
        });

        $("#SeikatsuShokuji").click(function(){
            $("#DispSeikatsuShokuji").toggle("slow");
        });

        $("#SeikatsuHaisetsu").click(function(){
            $("#DispSeikatsuHaisetsu").toggle("slow");
        });

        $("#NinchiKinou").click(function(){
            $("#DispNinchiKinou").toggle("slow");
        });

        $("#SeishinShougai").click(function(){
            $("#DispSeishinShougai").toggle("slow");
        });

        $("#ShakaiSeikatsuryoku").click(function(){
            $("#DispShakaiSeikatsuryoku").toggle("slow");
        });

        $("#IryouKankei").click(function(){
            $("#DispIryouKankei").toggle("slow");
        });

        $("#KihonCheckList").click(function(){
            $("#DispKihonCheckList").toggle("slow");
        });


        $("input[name='SeikatsuShokujiShushokuGenjo']").change(function(){
            if($("input[name='SeikatsuShokujiShushokuGenjo']:checked").val()=="4") {
                $("#txtSeikatsuShokujiShushokuGenjoSonota").show("slow");
            } else {
                $("#txtSeikatsuShokujiShushokuGenjoSonota").hide();
            }
        });

        $("input[name='SeikatsuShokujiShushokuKeikaku']").change(function(){
            if($("input[name='SeikatsuShokujiShushokuKeikaku']:checked").val()=="4") {
                $("#txtSeikatsuShokujiShushokuKeikakuSonota").show("slow");
            } else {
                $("#txtSeikatsuShokujiShushokuKeikakuSonota").hide();
            }
        });

        $("input[name='SeikatsuShokujiFukushokuGenjo']").change(function(){
            if($("input[name='SeikatsuShokujiFukushokuGenjo']:checked").val()=="3") {
                $("#txtSeikatsuShokujiFukushokuGenjoSonota").show("slow");
            } else {
                $("#txtSeikatsuShokujiFukushokuGenjoSonota").hide();
            }
        });

        $("input[name='SeikatsuShokujiFukushokuKeikaku']").change(function(){
            if($("input[name='SeikatsuShokujiFukushokuKeikaku']:checked").val()=="3") {
                $("#txtSeikatsuShokujiFukushokuKeikakuSonota").show("slow");
            } else {
                $("#txtSeikatsuShokujiFukushokuKeikakuSonota").hide();
            }
        });

        $("#SeikatsuShokujiBasho").change(function(){
           $("#txtSeikatsuShokujiBasho").hide();
           if($("#SeikatsuShokujiBasho").val()=="4") {
              $("#txtSeikatsuShokujiBasho").show("slow");
           }
        });

        $("#SeikatsuShokujiNaiyou").change(function(){
            $("#spnSeikatsuShokujiNaiyouTounyou").hide();
            $("#spnSeikatsuShokujiNaiyouKouketuatu").hide();
            $("#spnSeikatsuShokujiNaiyouSonota").hide();
            if($("#SeikatsuShokujiNaiyou").val()=="1") {
                $("#spnSeikatsuShokujiNaiyouTounyou").show("slow");
            } else if($("#SeikatsuShokujiNaiyou").val()=="2") {
                $("#spnSeikatsuShokujiNaiyouKouketuatu").show("slow");
            } else if($("#SeikatsuShokujiNaiyou").val()=="4") {
                $("#spnSeikatsuShokujiNaiyouSonota").show("slow");
            }
        });

        $("#ShakaiSeikatsuryokuKazoku").change(function(){
           $("#txtShakaiSeikatsuryokuKazoku").hide();
           if($("#ShakaiSeikatsuryokuKazoku").val()=="0") {
              $("#txtShakaiSeikatsuryokuKazoku").show("slow");
           }
        });

        $("#ShakaiSeikatsuryokuChiiki").change(function(){
           $("#txtShakaiSeikatsuryokuChiiki").hide();
           if($("#ShakaiSeikatsuryokuChiiki").val()=="0") {
              $("#txtShakaiSeikatsuryokuChiiki").show("slow");
           }
        });

        $("#ShakaiSeikatsuryokuYujin").change(function(){
           $("#txtShakaiSeikatsuryokuYujin").hide();
           if($("#ShakaiSeikatsuryokuYujin").val()=="0") {
              $("#txtShakaiSeikatsuryokuYujin").show("slow");
           }
        });

        $('#mahi_add').live('click',function(){
              mahihtml="";
              mahihtml=mahihtml+'<tr>';
              mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:30%">';
              mahihtml=mahihtml+'<select id="slMahi'+mahinum+'" name="slMahi'+mahinum+'">';
              mahihtml=mahihtml+'<option value=""></option>';
              mahihtml=mahihtml+'<option value="0">麻痺</option>';
              mahihtml=mahihtml+'<option value="1">関節の拘縮</option>';
              mahihtml=mahihtml+'<option value="2">皮膚疾患</option>';
              mahihtml=mahihtml+'<option value="3">褥瘡</option>';
              mahihtml=mahihtml+'</select>';
              mahihtml=mahihtml+'</td>';
              mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:30%">痛み';
              mahihtml=mahihtml+'<select id="slMahiItami'+mahinum+'" name="slMahiItami'+mahinum+'">';
              mahihtml=mahihtml+'<option value=""></option>';
              mahihtml=mahihtml+'<option value="0">なし</option>';
              mahihtml=mahihtml+'<option value="1">あり</option>';
              mahihtml=mahihtml+'</select>';
              mahihtml=mahihtml+'</td>';
              mahihtml=mahihtml+'<td style="margin-top:.5em;border:1px solid #bbbbbb;width:40%">部位';
              mahihtml=mahihtml+'<input id="MahiBasho'+mahinum+'" name="MahiBasho'+mahinum+'">';
              mahihtml=mahihtml+'</td>';
              mahihtml=mahihtml+'</tr>';
    
              $('#tblMahi').append(mahihtml);
    
              mahinum++;
        });

	});
		function convert_wareki(year, setting){
		    var result;
		    if(setting === false){
		        return year;
		    } else if (year > 1988) {
		        result = year - 1988;
		        result = '平成' + result;
		        return result;
		    } else if (year > 1925) {
		        result = year - 1925;
		        result = '昭和' + result;
		        return result;
		    } else if (year > 1911) {
		        result = y - 1911;
		        result = '大正' + result;
		        return result;
		    } else if (year > 1867) {
		        result = year - 1867;
		        result = '明治' + result;
		        return result;
		    }
		}

	jQuery(function(){

		$.datepicker.setDefaults({
			changeYear:true,
			changeMonth:true,
			yearRange:"c-20:c+5",
			dateFormat: 'yy/mm/dd',
	        dayNamesShort: ['日','月','火','水','木','金','土'],
            dayNamesMin: ['日','月','火','水','木','金','土']
        });


                    $("#txtShokaiSakuseidate").datepicker({
                        onSelect: function(dateText, inst){
                           var ArrDate=dateText.split("/");
                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
                           $("#txtShokaiSakuseidate").val(DispDate);
                           $("#hdShokaiSakuseidate").val(ArrDate[0]+ArrDate[1]+ArrDate[2]);
                        }
                    });
                    $("#txtNyukyoNengappi").datepicker({
                        onSelect: function(dateText, inst){
                           var ArrDate=dateText.split("/");
                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
                           $("#txtNyukyoNengappi").val(DispDate);
                        }
                    });
                    $("#txtNyukyoNengappi").datepicker({
                        onSelect: function(dateText, inst){
                           var ArrDate=dateText.split("/");
                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
                           $("#txtNyukyoNengappi").val(DispDate);
                        }
                    });
                    $("#txtShokaiSoudanUketsukegappi").datepicker({
                        onSelect: function(dateText, inst){
                           var ArrDate=dateText.split("/");
                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
                           $("#txtShokaiSoudanUketsukegappi").val(DispDate);
                        }
                    });
//                    $("#txtNinteinengappi").datepicker({
//                        changeYear:true,
//                        onSelect: function(dateText, inst){
//                           var ArrDate=dateText.split("/");
//                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
//                           $("#txtNinteinengappi").val(DispDate);
//                           $("#hdNinteinengappi").val(String(ArrDate[0])+String(ArrDate[1])+String(ArrDate[2]));
//                        }
//                    });
//                    $("#txtNinteiKikanStart").datepicker({
//                        changeYear:true,
//                        onSelect: function(dateText, inst){
//                           var ArrDate=dateText.split("/");
//                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
//                           $("#txtNinteiKikanStart").val(DispDate);
//                           $("#hdNinteiKikanStart").val(String(ArrDate[0])+String(ArrDate[1])+String(ArrDate[2]));
//                        }
//                    });
//                    $("#txtNinteiKikanEnd").datepicker({
//                        changeYear:true,
//                        onSelect: function(dateText, inst){
//                           var ArrDate=dateText.split("/");
//                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
//                           $("#txtNinteiKikanEnd").val(DispDate);
//                           $("#hdNinteiKikanEnd").val(String(ArrDate[0])+String(ArrDate[1])+String(ArrDate[2]));
//                        }
//                    });
                    $("#txtAssessmentSakuseidate0").datepicker({
                        changeYear:true,
                        onSelect: function(dateText, inst){
                           var ArrDate=dateText.split("/");
                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
                           $("#txtAssessmentSakuseidate0").val(DispDate);
                        }
                    });
                    $(".txtNyuinPeriod").datepicker({
                        changeYear:true,
                        onSelect: function(dateText, inst){
                           var ArrDate=dateText.split("/");
                           var DispDate=convert_wareki(ArrDate[0],true)+"年"+parseInt(ArrDate[1])+"月"+parseInt(ArrDate[2])+"日";
                           $(this).val(DispDate);
                        }
                    });


                $('#slNyukyoshaSeinengappiWareki').change(function() {
                   setNenrei();
                });
                $('#slNyukyoshaSeinengappiYear').keyup(function() {
                   setNenrei();
                });
                $('#slNyukyoshaSeinengappiMonth').change(function() {
                   setNenrei();
                });
                $('#slNyukyoshaSeinengappiDay').change(function() {
                   setNenrei();
                });

                $('#riyosha_name').change(function() {
                   hyoujiflg="1";
                });

                $('#registKazokuKouseizu').click(function(){
                   if($('#RIYOUSHAID').val()!=""){
                     frmMenuAssessment.target="kazokukouseizu";
                     frmMenuAssessment.action="/E-LIFE/KYOUTSU/cgi-bin/KAZOKUKOSEI.CGI";
                     frmMenuAssessment.method="POST";
                     frmMenuAssessment.submit();
                   } else {
                      alert('ご入居者を選択、データ表示ボタンを押して入居者情報を反映した上で、登録を押してください');
                   }
                });

                $('#updateKazokuKouseizu').click(function(){
                   var checkdate = new Date();
                   var cashclear=checkdate.getSeconds();
                   $('#ifrmKazokuKouseizu')[0].contentDocument.location.reload(true);
                   $('#ifrmKazokuKouseizu')[0].contentDocument.location.replace("###DISPHTMLKAZOKUKOSEI###?cashclear="+cashclear);
//                   location.reload();
                });

                function setNenrei() {
                    var warekiyear=0;
                    var nenrei=0;
                    for(w in warekid) {
                       if(warekid[w].id==$('#slNyukyoshaSeinengappiWareki').val()) {
                          warekiyear=warekid[w].year;
                          break;
                       }
                    }
                    var seirekibirth=parseInt(warekiyear)+parseInt($('#slNyukyoshaSeinengappiYear').val());
                    var nenrei=curyear-seirekibirth;
                    if(curmonth<$('#slNyukyoshaSeinengappiMonth').val()) {
                        nenrei--;
                    } else if (curday<$('#slNyukyoshaSeinengappiDay').val()) {
                        nenrei--;
                    }

                    $('#txtNyukyoshaNenrei').val(nenrei);
                }

                calcBMI();

                function calcBMI() {
                    var shinchou=$("#txtShinchou").val();
                    var taiju=$("#txtTaiju").val();
                    var bmishinchou=Math.round(shinchou/10)/10;
                    var tmpBMI=Math.round(taiju/bmishinchou/bmishinchou*10);
                    if(shinchou!=""&&taiju!="") {
                    $("#txtBMI").val(tmpBMI/10);
                    }
                }

                $('#txtShinchou').blur(function(){
                    calcBMI();
                });
                $('#txtTaiju').blur(function(){
                    calcBMI();
                });
	});

                $('.shisetsulist').live('mouseover',function(){
                   this.style.backgroundColor="lightgrey";
                });
                $('.shisetsulist').live('mouseout',function(){
                   this.style.backgroundColor="white";
                });

      function change_select_input(mode){
           var SHISETSU_CODE="###SHISETSUID###";
           var TATEYA_CODE = $("#tateya").val();
           var FLOOR_CODE = $("#floor").val();
           var KYOSHITSU_CODE = $("#kyoshitsu").val();
           var RIYOSHA_CODE = $("#riyosha_name").val();
           var TAIKYO = $('[name="taikyo"]:checked').val();
           $.post("/E-LIFE/UNEI/cgi-bin/IKOU_ASSESSMENT.GET_RIYOUSHA.CGI",
                 { "MODE": mode,
                   "shisetsu": SHISETSU_CODE,
                   "tateya": TATEYA_CODE,
                   "floor": FLOOR_CODE,
                   "kyoshitsu": KYOSHITSU_CODE,
                   "riyosha_name": RIYOSHA_CODE,
                   "taikyo": TAIKYO },
           function(data,status){
                 $("#FLOOR_GET").html(data);
                 hyoujiflg="1";
           },
           "html"
           );
      }
	</script>


    <!-- Demo page code -->

    <style type="text/css">
        #line-chart {
            height:300px;
            width:800px;
            margin: 0px auto;
            margin-top: 1em;
        }
        td {
            font-size:12px;
            border:1px solid #bbbbbb;
        }
        .FluSesshuNendo {
            width:50px;
        }
        .WakuchinName {
            width:140px;
        }
    </style>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="lib/html5.js"></script>
    <![endif]-->

  </head>
